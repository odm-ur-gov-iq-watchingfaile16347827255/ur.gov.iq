(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["loader.TweetCurationActionMenu","icons/IconIllustrationSafetyMute-js","icons/IconPhotoError-js","icons/IconPinStrokeOff-js","loader.FeedbackSheet"],{805020:e=>{e.exports={queryId:"OYGj5WwaZ40VxoLwmxlybw",operationName:"ArticleEntitiesSlice",operationType:"query",metadata:{featureSwitches:["payments_enabled","rweb_xchat_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled"],fieldToggles:["withAuxiliaryUserLabels"]}}},803386:e=>{e.exports={queryId:"e4lWqB6m2TA8Fn_j9L9xEA",operationName:"ArticleEntityDelete",operationType:"mutation",metadata:{featureSwitches:[],fieldToggles:[]}}},322821:e=>{e.exports={queryId:"c6iKDv5youj-ak7CPomyUg",operationName:"ArticleEntityDraftCreate",operationType:"mutation",metadata:{featureSwitches:["payments_enabled","rweb_xchat_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled"],fieldToggles:["withAuxiliaryUserLabels"]}}},93595:e=>{e.exports={queryId:"BZ2hRmPVsvrzxPfoTrIsVQ",operationName:"ArticleEntityPublish",operationType:"mutation",metadata:{featureSwitches:["payments_enabled","rweb_xchat_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled"],fieldToggles:["withAuxiliaryUserLabels"]}}},53605:e=>{e.exports={queryId:"KSH9XBNRCoQExpw6ZyV8qQ",operationName:"ArticleEntityResultByRestId",operationType:"query",metadata:{featureSwitches:["payments_enabled","rweb_xchat_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled"],fieldToggles:["withAuxiliaryUserLabels"]}}},672075:e=>{e.exports={queryId:"2I_E3WDTyrZaXaHjwftMQA",operationName:"ArticleEntityUnpublish",operationType:"mutation",metadata:{featureSwitches:["payments_enabled","rweb_xchat_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled"],fieldToggles:["withAuxiliaryUserLabels"]}}},196969:e=>{e.exports={queryId:"EkyGGNE9GeBmz7EmEGcHAQ",operationName:"ArticleEntityUpdateContent",operationType:"mutation",metadata:{featureSwitches:["payments_enabled","rweb_xchat_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled"],fieldToggles:["withAuxiliaryUserLabels"]}}},553600:e=>{e.exports={queryId:"QE7NnvJCxkbQluqFJnj6tw",operationName:"ArticleEntityUpdateCoverMedia",operationType:"mutation",metadata:{featureSwitches:["payments_enabled","rweb_xchat_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled"],fieldToggles:["withAuxiliaryUserLabels"]}}},446405:e=>{e.exports={queryId:"O99CyZSqb0syrHmkkCAl2A",operationName:"ArticleEntityUpdateTitle",operationType:"mutation",metadata:{featureSwitches:["payments_enabled","rweb_xchat_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled"],fieldToggles:["withAuxiliaryUserLabels"]}}},484636:(e,t,i)=>{"use strict";i.d(t,{Z:()=>A});var n=i(506899),o=i(414742);const r=new n.fK.Entity("articleEntities",{},{idAttribute:"rest_id"});var s=i(805020),a=i.n(s),l=i(803386),c=i.n(l),d=i(322821),u=i.n(d),m=i(93595),_=i.n(m),p=i(53605),h=i.n(p),b=i(672075),w=i.n(b),f=i(196969),g=i.n(f),y=i(553600),v=i.n(y),E=i(446405),T=i.n(E),C=i(934309);const A=({apiClient:e,featureSwitches:t})=>({createDraftArticle(t){const{content_state:i,title:o}=t;return e.graphQL(u(),{content_state:i,title:o}).then((e=>(0,n.Fv)(e.articleentity_create_draft?.article_entity_results?.result,r)))},fetchArticleEntity(t){const{articleEntityId:i}=t;return e.graphQL(h(),{articleEntityId:i}).then((e=>(0,n.Fv)(e.article_result_by_rest_id?.result,r)))},deleteArticleEntity(t){const{articleEntityId:i}=t;return e.graphQL(c(),{articleEntityId:i}).then((e=>e.articleentity_delete))},updateArticleEntityContent(t){const{articleEntityId:i,content_state:o}=t;return e.graphQL(g(),{content_state:o,article_entity:i}).then((e=>(0,n.Fv)(e.articleentity_update_content_state,r)))},updateArticleEntityCoverMedia(t){const{articleEntityId:i,mediaCategory:o,mediaId:s}=t;return e.graphQL(v(),{articleEntityId:i,coverMedia:s&&o?{media_id:s,media_category:o}:void 0}).then((e=>(0,n.Fv)(e.articleentity_update_cover_media,r)))},updateArticleEntityTitle(t){const{articleEntityId:i,title:o}=t;return e.graphQL(T(),{articleEntityId:i,title:o}).then((e=>(0,n.Fv)(e.articleentity_update_title,r)))},publishArticleEntity(t){const{articleEntityId:i,conversationControl:o,visibilitySetting:s}=t;return e.graphQL(_(),{articleEntityId:i,visibilitySetting:s,...o&&{conversationControl:{mode:o}}}).then((e=>(0,n.Fv)(e.articleentity_publish?.article_entity_results?.result,r)))},unpublishArticleEntity(t){const{articleEntityId:i}=t;return e.graphQL(w(),{articleEntityId:i}).then((e=>(0,n.Fv)(e.articleentity_unpublish?.article_entity_results?.result,r)))},fetchArticleEntitiesSlice:t=>t&&t.lifecycle?e.graphQL(a(),t,(0,o.kj)((e=>!e?.user?.result?.articles_article_mixer_slice),"GQL ArticleEntities: Failed to fetch Articles Slice")).then((e=>{const t=e?.user.result;if("User"===t?.__typename){const e=t?.articles_article_mixer_slice;if(e){const{items:t,slice_info:i}=e,{entities:o,result:s}=(0,n.Fv)(t?.map((e=>e.article_entity_results?.result)),[r]);return{entities:o,result:s,slice_info:i}}}return C.d})):Promise.resolve(C.d)})},683814:(e,t,i)=>{"use strict";i.d(t,{Z:()=>R});var n=i(807896),o=i(202784),r=i(157130),s=i(30899),a=i(325686),l=i(731708),c=i(143670),d=i(96083),u=i(154003),m=i(392237),_=i(111677),p=i.n(_),h=i(14284),b=i(531564),w=i(491831),f=i(792618),g=i(511323),y=i(916910),v=i(443781),E=i(459660);const T=p().g6185a9e,C=p().i00051cc,A=p().baffe39a,I=p().i9000126,k=p().dcaede8a,x=p().ad85cd2e,S=p().f19e4bfc,D=p().bf994ab2,L=p().e7b4b30a,P=p().cfd2f35e,Z=m.default.create((e=>({root:{flexDirection:"column",paddingTop:e.spaces.space16,paddingBottom:e.spaces.space4,borderRadius:e.borderRadii.xLarge},popover:{maxWidth:5*e.spacesPx.space64},modal:{borderRadius:e.borderRadii.none},title:{flexDirection:"column",paddingHorizontal:e.spaces.space16,marginBottom:e.spaces.space12},menuRow:{flexDirection:"row",paddingTop:e.spaces.space12,paddingBottom:e.spaces.space12,alignItems:"center",borderRadius:e.borderRadii.small},disallowLinkRepliesCheck:{paddingHorizontal:e.spaces.space20,paddingBottom:e.spaces.space16,paddingTop:e.spaces.space16},cancelButton:{marginHorizontal:e.spaces.space16,marginVertical:e.spaces.space16}}))),M=e=>{const{dismiss:t,isModal:i,midConversationTweet:n,value:r}=e,{featureSwitches:s,userClaims:m}=o.useContext(v.rC),_=t=>()=>{e.onChange(t),e.dismiss()},M=s.isTrue("disallowed_reply_controls_enabled")&&m.isAnyPremiumSubscriber(),R=!!n,U=R&&!n?.entities?.user_mentions?.some((e=>e.id_str!==n.user.id_str));let F=k;return U?F=D:R&&(F=L),o.createElement(a.Z,{"aria-describedby":"conversation-controls-details","aria-labelledby":"conversation-controls-title",role:"dialog",style:[Z.root,i?Z.modal:Z.popover]},o.createElement(a.Z,{style:Z.title},o.createElement(l.ZP,{id:"conversation-controls-title",weight:"bold"},T),o.createElement(l.ZP,{color:"gray700",id:"conversation-controls-details",size:"body"},C)),o.createElement(a.Z,null,o.createElement(c.Z,{Icon:h.default,actionText:A,isSelected:E.k.all===r,onClick:_(E.k.all),selectable:!0,style:Z.menuRow,withIconAsThumbnail:!0}),o.createElement(c.Z,{Icon:b.default,actionText:I,isSelected:E.k.community===r,onClick:_(E.k.community),selectable:!0,style:Z.menuRow,withIconAsThumbnail:!0}),e.isActiveCreator&&o.createElement(c.Z,{Icon:w.default,actionText:x,isSelected:E.k.subscribers===r,onClick:_(E.k.subscribers),selectable:!0,style:Z.menuRow,withIconAsThumbnail:!0}),o.createElement(c.Z,{Icon:f.default,actionText:S,isSelected:E.k.verified===r,onClick:_(E.k.verified),selectable:!0,style:Z.menuRow,withIconAsThumbnail:!0}),o.createElement(c.Z,{Icon:U?g.default:y.default,actionText:F,isSelected:E.k.by_invitation===r,onClick:_(E.k.by_invitation),selectable:!0,style:Z.menuRow,withIconAsThumbnail:!0}),M&&!n&&o.createElement(d.Z,{checked:e.disallowedReplyControls.includes(E.m.Links),label:p().ca6500a8,onChange:(B=E.m.Links,()=>{if(e.disallowedReplyControls.includes(B))e.setDisallowedReplyControls(e.disallowedReplyControls.filter((e=>e!==B)));else{const t=new Set([...e.disallowedReplyControls]);t.add(B),e.setDisallowedReplyControls([...t])}}),style:Z.disallowLinkRepliesCheck}),e.isModal?o.createElement(u.ZP,{key:"button_cancel",onPress:t,size:"large",style:Z.cancelButton,type:"primaryOutlined"},P):null));var B},R=e=>{const{children:t,controlled:i=!1,disabled:a}=e,[l,c]=o.useState(!1),d=o.useCallback((()=>c(!0)),[]),u=o.useCallback((()=>c(!1)),[]),m=i?l?r.Z.VISIBILITY_BEHAVIOR.forceVisible:r.Z.VISIBILITY_BEHAVIOR.forceHidden:void 0,_="function"==typeof t?t({openPopover:d,closePopover:u}):t;return o.createElement(s.Z,{disabled:a,onDismiss:u,renderContent:(t,i)=>{const{children:r,controlled:s,...a}=e;return o.createElement(M,(0,n.Z)({},a,{dismiss:t,isModal:"sheet"===i}))},visibilityBehavior:m},_)}},774426:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});i(136728);var n=i(202784),o=i(811176),r=i(190286),s=i(111677),a=i.n(s),l=i(912021);const c=a().cfd2f35e;class d extends n.Component{constructor(...e){super(...e),this.state={activeConfirmation:null},this._handleConfirm=e=>{this.setState({activeConfirmation:e})},this._handleConfirmed=()=>{this.state.activeConfirmation&&this.state.activeConfirmation.confirmCallback(),this.setState({activeConfirmation:null}),this.props.onClose()},this._handleCancelConfirm=()=>{this.state.activeConfirmation&&this.state.activeConfirmation.cancelCallback?.(),this.setState({activeConfirmation:null})},this._getMemoizedProcessedActionItems=(0,l.Z)(((e,t,i,n)=>e.reduce(((e,{Icon:o,confirmation:r,disabled:s,excludeFromActionMenu:a,isEmphasized:l,link:c,onClick:d,subText:u,testID:m,text:_,withCancelButton:p},h)=>{if(!a){const a=d?()=>{r?r.render?n({cancelCallback:r.onCancel,confirmCallback:d,render:r.render}):n({cancelCallback:r.onCancel,confirmCallback:d,text:r.text,headline:r.headline,label:r.label,confirmButtonType:r.confirmButtonType,withCancelButton:r.withCancelButton}):(d(),i())}:i;e.push({disabled:s,Icon:o,isEmphasized:l,testID:m,subText:u,text:_,onClick:a,link:c,withBottomBorder:t&&t.includes(h)})}return e}),[])))}render(){const{onClose:e}=this.props,{activeConfirmation:t}=this.state;return t?this._renderConfirmation(t):n.createElement(o.Z,{cancelButtonLabel:c,items:this._getProcessedActionItems(),onCloseRequested:e})}_renderConfirmation(e){if(e&&e.render)return e.render(this._handleConfirmed,this._handleCancelConfirm);{const{confirmButtonType:t,headline:i,label:o,text:s,withCancelButton:a}=e||{};return n.createElement(r.Z,{confirmButtonLabel:o,confirmButtonType:t,headline:i,onCancel:this._handleCancelConfirm,onConfirm:this._handleConfirmed,text:s,withCancelButton:a})}}_getProcessedActionItems(){const{actionItems:e,dividerIndices:t,onClose:i}=this.props;return this._getMemoizedProcessedActionItems(e,t,i,this._handleConfirm)}}const u=d},301410:(e,t,i)=>{"use strict";i.d(t,{i:()=>p.ZP,z:()=>f});var n=i(202784),o=i(928123),r=i.n(o),s=i(72845),a=i.n(s),l=i(57074),c=i.n(l),d=i(516951),u=i(88656),m=i(71620),_=i(163889),p=i(312771);const h=({render:e})=>e({fetchStatus:p.ZP.LOADING,data:null,error:null,retry:d.Z});class b extends n.Component{constructor(...e){super(...e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){if(!(e instanceof u.Z))throw e;this.props.errorHandler(e),(0,_.Hj)(e,{level:"warning",tags:{userVisible:!0}})}render(){return this.props.children(this.state.error,this.props.retry)}}const w=({query:e,queryRef:t,render:i})=>{const n=r()(e,t);return i({fetchStatus:p.ZP.LOADED,data:n,error:null,retry:d.Z})},f=(e,t)=>function({fetchPolicy:i="store-or-network",render:o,variables:r}){const[s,l]=a()(e),d=(0,m.n7)(t.errorConfig.context),u=c()(r),_=n.useCallback((()=>{l(u,{fetchPolicy:"network-only"})}),[l,u]);return n.useLayoutEffect((()=>{l(u,{fetchPolicy:i})}),[i,l,u]),s?n.createElement(n.Suspense,{fallback:n.createElement(h,{render:o})},n.createElement(b,{errorHandler:d(t.errorConfig.options||{}),key:s.fetchKey,retry:_},((t,i)=>t?o({fetchStatus:p.ZP.FAILED,error:t,data:null,retry:i}):n.createElement(w,{query:e,queryRef:s,render:o})))):null}},909359:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Xn});var n=i(807896),o=(i(136728),i(202784)),r=i(325686),s=i(305845),a=i(966582),l=i(782261),c=i(154003),d=i(811176),u=i(247056),m=i(392237),_=i(111677),p=i.n(_),h=i(149170),b=i(516951),w=i(683814),f=i(459660);const g=Object.freeze({all:p().baffe39a,community:p().i9000126,by_invitation:p().e7b4b30a,subscribers:p().ad85cd2e,verified:p().f19e4bfc}),y=p().bf994ab2,v=(e,t)=>{let i=g[t];if(t===f.k.by_invitation){!e.entities?.user_mentions?.some((t=>t.id_str!==e.user.id_str))&&(i=y)}return o.createElement(p().I18NFormatMessage,{$i18n:"f8ea2809",selection:i})};var E=i(774426),T=i(837020);const C=p().e839db3a,A={label:C},I=m.default.create((e=>({closeIcon:{color:e.colors.gray700},button:{position:"absolute",end:0}}))),k=o.createElement(T.default,{style:I.closeIcon}),x=({onClick:e})=>o.createElement(c.ZP,{"aria-label":C,borderColor:"transparent",color:"gray1100",hoverLabel:A,icon:k,onClick:e,pullRight:!0,size:"small",style:I.button,type:"brandText"});var S=i(388238),D=i(376293),L=i(712816);const P={defaultToast:{text:p().ae0c5fbe},showToast:!0};var Z=i(879596),M=i(870358),R=i(942893),U=i(214647),F=i(500002),B=i(175856),H=i(443781),N=i(834324),O=i(73664),q=i(668214);const z=e=>(0,B.t5)(e,B.FX),j=(0,q.Z)().propsFromState((()=>({shouldShowConversationControlsTip:z}))).propsFromActions((()=>({addFlag:B.pj}))),K=p().bae0cbc0,V=m.default.create((e=>({inlineCallout:{position:"absolute",end:e.spaces.space32,marginTop:e.spaces.space2,zIndex:1},textStyle:{whiteSpace:"nowrap"}}))),$=j((({addFlag:e,shouldShowConversationControlsTip:t})=>{const i=o.useRef(),n=(0,O.R)(i),s=o.useRef(!1),a=t;return o.useEffect((()=>{n&&(s.current=!0,setTimeout((()=>{e(B.FX)}),5e3))}),[n,e]),o.useEffect((()=>()=>{s.current&&e(B.FX)}),[e]),o.createElement(r.Z,{ref:i,style:V.inlineCallout},n&&a?o.createElement(N.Z,{text:K,textStyle:V.textStyle,withRightArrow:!0}):null)}));var W=i(533128),Q=i(851623),Y=i(916585);var G=i(692165);const X="analytics",J="block",ee="pin",te="unpin",ie="report",ne="edit",oe="editWithPremium",re="whyThisAd",se="highlight",ae="highlightUpsell",le="subscribe",ce="highlighOnPin",de="tweetEngagements",ue="reportEUIllegalContentDSA",me="editArticle",_e=({featureSwitches:e,promotedContent:t,scribeAction:i})=>{if(!t||!t.impression_id)return;const{impression_id:n}=t,o=e.isTrue("responsive_web_remove_qp_ad_label_enabled"),r=a.Z.isQuickPromote(t);return{text:o&&r?p().b3b642fc:p().fb4ee11c,Icon:G.default,link:{pathname:`/i/about-this-ad/${n}`,state:{isQuickPromote:r}},onClick:()=>{i&&i({element:"whythisad"})},testID:re}};var pe=i(53674);const he=p().ad50e7d9;var be=i(625271);const we=p().ef1042f8,fe=(e,{scribeAction:t,tweetId:i})=>({text:we,onClick:()=>{t({element:"contribute_to_birdwatch"})},link:{pathname:`/i/communitynotes/contribute/${i}`},Icon:be.default});var ge=i(730873);const ye=p().h3edf7a6,ve=(e,{scribeAction:t,tweetId:i})=>({text:ye,onClick:()=>{t({element:"noterequest_to_birdwatch"})},link:{pathname:`/i/communitynotes/noterequest/${i}`},Icon:ge.default});var Ee=i(194661);const Te=p().bae0cbc0,Ce=p().bf8d98f4,Ae=p().e69ada9e;var Ie=i(607127);const ke=p().d96cf7ce,xe=p().ae04c4dd,Se=p().d9442996,De=p().dad785a7,Le=p().jda253ab,Pe=p().j49c2f85,Ze=p().f9fa0390,Me=m.default.create((e=>({additionalInfo:{marginTop:e.spaces.space8}})));var Re=i(72591);const Ue=p().d9a2bd78;var Fe=i(376021),Be=i(689985);const He=p().dad450ec,Ne=p().g9677c6e,Oe=p().b57bfe70,qe=p().bd3da7be,ze=p().j26481e6;var je=i(310452),Ke=i(226684),Ve=i(507824);const $e=p().cb817dae,We=e=>parseInt(e,10);function Qe(e){switch(e.entityType){case"cashtag":case"emoji":case"hashtag":case"mention":case"text":return`${e.prefix||""}${(0,Ke.Tz)(e.text)}`;case"media":case"url":return e.expandedUrl;default:return""}}const Ye=p().abd845fe;var Ge=i(498720);const Xe=p().fd391b9f;var Je=i(911373),et=i(757953);const tt=p().c66afdc3,it=p().hbe4feb5,nt=p().e1618e49;var ot=i(688715),rt=i(529356),st=i(190286),at=i(520913),lt=i(648539);const ct=p().ge5067bc,dt=p().j136c720,ut=p().d66f0338,mt=`${p().cfc8cb50}\n\n${p().if8dc5f0}`,_t=(0,ot.ju)("https://help.x.com/using-twitter/mentions-and-replies?lang=browser#hidden-reply"),pt=p().b2615c6d,ht=p().i62a03aa,bt=p().cfd2f35e,wt=p().a6450e84,ft=p().ad00a739,gt=({addFlag:e,addToast:t,createLocalApiErrorHandler:i,hideReply:n,onBlock:r,onTweetDismiss:s,scribeAction:a,shouldShowHideReplyTip:l,tweet:c})=>{const d=()=>{a({element:"moderated_replies_prompt",action:"impression"})};return{confirmation:l?{render:(e,t)=>(({onConfirm:e,onCancel:t,onHideReplyImpression:i=()=>{}})=>o.createElement(rt.Z,{actionLabel:ct,graphic:at.default,headline:ut,onAction:e,onClose:t,onImpression:i,onTertiaryAction:t,subtext:mt,supportUrl:_t,tertiaryActionLabel:bt}))({onConfirm:e,onCancel:t,onHideReplyImpression:d})}:{render:(e,t)=>{const{user:{screen_name:i}}=c;return o.createElement(st.Z,{cancelButtonLabel:ht,confirmButtonLabel:wt,confirmButtonType:"destructiveFilled",headline:pt({screenName:i}),onCancel:e,onConfirm:()=>{r(),e()},text:ft({screenName:i})})}},text:ct,onClick:()=>{e(B.f8),n(c.id_str,{conversation_id:c.conversation_id_str}).then((e=>{s&&s(),t({text:dt})}),i({showToast:!0})),a({element:"moderate_reply"})},Icon:lt.default}};var yt=i(161335),vt=i(395067);const Et=p().f9f27fa2;var Tt=i(487606),Ct=i(545334);const At=p().eaae42ce,It=p().h032d096,kt=p().be38d25e,xt=p().d2be9310,St=p().jea6b076,Dt=p().ce6fd0ec,Lt=p().af40a8e0,Pt=p().e68b09b4;var Zt,Mt,Rt,Ut,Ft={fragment:{argumentDefinitions:Zt=[{defaultValue:null,kind:"LocalArgument",name:"tweet_id"}],kind:"Fragment",metadata:null,name:"HighlightTweetSheetQuery",selections:[{alias:null,args:Mt=[{kind:"Variable",name:"rest_id",variableName:"tweet_id"},{kind:"Literal",name:"s",value:"b6cb"}],concreteType:"TweetResults",kind:"LinkedField",name:"tweet_result_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[Rt={alias:null,args:null,concreteType:"TweethighlightsInfo",kind:"LinkedField",name:"highlights_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"highlighted",storageKey:null}],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:Zt,kind:"Operation",name:"HighlightTweetSheetQuery",selections:[{alias:null,args:Mt,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_result_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[Rt,Ut={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null},Ut],storageKey:null}]},params:{id:"j5-kjpQseTlPnVtfck8i_Q",metadata:{},name:"HighlightTweetSheetQuery",operationKind:"query",text:null}};Ft.hash="d615ae6a93ba6bd638e5ebb9a48ddee2";const Bt=Ft;i(585488);var Ht=i(138099),Nt=i(750410),Ot=i(167630),qt=i(312771),zt=i(301410);const jt=p().cfd2f35e,Kt=Bt,Vt=(0,zt.z)(Kt,{errorConfig:{context:"TWITTER_HIGHLIGHT_TWEET_CONFIRMATION_CONTEXT"}}),$t=o.memo((({onCancel:e,onConfirm:t,onHighlight:i,onUndohighlight:n,tweetId:r})=>{const s=o.useMemo((()=>({tweet_id:r})),[r]),a=o.useCallback((e=>()=>{e(),t()}),[t]),l=o.useCallback((({data:t,fetchStatus:r,retry:s})=>{if(r===qt.ZP.LOADED){const r=!!t?.tweet_result_by_rest_id?.result?.highlights_info?.highlighted,{confirmLabel:s,onAction:l,subtext:c,title:d}=((e,t,i)=>e?{title:It,subtext:xt,onAction:i,confirmLabel:Pt}:{title:At,subtext:kt,onAction:t,confirmLabel:Lt})(r,i,n);return o.createElement(st.Z,{cancelButtonLabel:jt,confirmButtonLabel:s,confirmButtonType:"primary",headline:d,onCancel:e,onConfirm:a(l),text:c})}return o.createElement(Ht.Z,{allowBackNavigation:!1,enableMaskForDismiss:!1,role:"alertdialog",style:Wt.loadingSheet,type:"center",withMask:!0},r===qt.ZP.FAILED?o.createElement(Nt.Z,{onRequestRetry:s}):o.createElement(Ot.Z,null))}),[i,n,a,e]);return o.createElement(Vt,{fetchPolicy:"network-only",render:l,variables:s})})),Wt=m.default.create((e=>({loadingSheet:{paddingVertical:e.spaces.space20}}))),Qt=o.memo($t),Yt=p().ce87916a,Gt=p().ef4602ec,Xt=p().h8a3525e;var Jt=i(833057),ei=i(40610);const ti=p().i419d136,ii=p().c1b9714a,ni=p().c5d23126,oi=p().fe4d099a,ri=p().cfd2f35e,si=p().e8d4c1cc,ai={label:p().b68c3784,link:{pathname:"/i/verified-choose",state:{referring_page:"get_verified_highlight_on_pin"}}},li=o.memo((({isBlueUpsellEligible:e,onCancel:t,onConfirm:i,onHighlight:n,onPinTweet:r,onUndohighlight:s,tweetId:a})=>{const[l,c]=o.useState(!1),d=o.useMemo((()=>({tweet_id:a})),[a]),u=o.useMemo((()=>l?o.createElement(ei.Z.Primary,{action:ai,headline:si,onAction:i,style:ci.callout,withIcon:!1}):null),[l,i]),m=o.useCallback((()=>{e?c(!0):(n(),i())}),[c,n,i,e]),_=o.useCallback((()=>{r(),i()}),[r,i]),p=o.useCallback((({data:e,fetchStatus:i,retry:n})=>{if(i===qt.ZP.LOADED){return!!e?.tweet_result_by_rest_id?.result?.highlights_info?.highlighted?o.createElement(st.Z,{confirmButtonLabel:ni,confirmButtonType:"primary",headline:ti,onCancel:t,onConfirm:_,text:ii}):o.createElement(rt.Z,{actionLabel:oi,footer:u,graphicDisplayMode:"none",headline:"Highlight your best content instead",onAction:m,onClose:t,onSecondaryAction:_,onTertiaryAction:t,secondaryActionLabel:ni,subtext:"With Highlights, you can curate all your best posts on your profile.",tertiaryActionLabel:ri,withCloseButton:!0})}return o.createElement(Ht.Z,{allowBackNavigation:!1,enableMaskForDismiss:!1,role:"alertdialog",style:ci.loadingSheet,type:"center",withMask:!0},i===qt.ZP.FAILED?o.createElement(Nt.Z,{onRequestRetry:n}):o.createElement(Ot.Z,null))}),[m,_,t,u]);return o.createElement(Vt,{fetchPolicy:"network-only",render:p,variables:d})})),ci=m.default.create((e=>({loadingSheet:{backgroundColor:"transparent"},callout:{fontSize:e.fontSizes.body,color:e.colors.text,fontWeight:e.fontWeights.medium}}))),di=o.memo(li),ui=p().ha35a1d2,mi=p().d04f95c0,_i=p().ef4602ec;const pi=function({addToast:e,createLocalApiErrorHandler:t,highlight:i,isBlueUpsellEligible:n,pin:r,scribeAction:s,tweetId:a,undoHighlight:l}){const c=()=>{l(a).then((t=>{e(t?.tweet_highlights_delete?.success?{text:Dt,withClearButton:!0}:{text:_i,withClearButton:!0,withAutoDismiss:!0})})),s({element:"undoHighlight"})},d=()=>{i(a).then((t=>{e(t?.tweet_highlights_put?.success?{action:{label:Ct.d,onAction:c},text:St,withClearButton:!0}:{text:_i,withClearButton:!0,withAutoDismiss:!0})})),s({element:"highlight"})},u=()=>{r(a).then((()=>{e({text:mi})}),t({showToast:!0})),s({element:"pin"})};return{confirmation:{render:(e,t)=>o.createElement(di,{isBlueUpsellEligible:n,onCancel:t,onConfirm:e,onHighlight:d,onPinTweet:u,onUndohighlight:c,tweetId:a})},testID:ce,text:ui,Icon:Jt.default,onClick(){}}};var hi=i(883437),bi=i(523561);const wi=(0,bi.Z)({loader:()=>Promise.all([i.e("icons.8"),i.e("icons.19"),i.e("ondemand.LeaveThisConversation")]).then(i.bind(i,265008))}),fi=p().bb16cc76,gi=p().de21174c,yi=(e,t)=>o.createElement(wi,{onCancel:t,onConfirm:e});var vi=i(383494),Ei=i(232130),Ti=i(40904),Ci=i(391366);const Ai=p().e2d6c17e,Ii=p().cd1942f4,ki=p().bbd8bed6,xi=p().c13af432,Si=p().gf5e9ea6,Di=p().df744bda,Li=p().j9552760,Pi=p().cfd2f35e,Zi=p().d751694c,Mi=(0,ot.ju)("https://support.x.com/articles/20175032"),Ri=({addFlag:e,addToast:t,createLocalApiErrorHandler:i,muteTweet:n,scribeAction:r,shouldShowMuteEducationTip:s,tweet:a,unmuteTweet:l})=>{const c=()=>{e(B.EM)},d=()=>{l(a.id_str).then((()=>{t({text:xi})}),(e=>{i({showToast:!0})(e),r({element:"tweet",action:"unmute_conversation_error"})})),r({element:"tweet",action:"unmute_conversation"})},u={text:Ai,onClick:()=>{n(a.id_str).then((()=>{t({action:{label:Si,onAction:d},text:ki})}),(e=>{i({showToast:!0})(e),r({element:"tweet",action:"mute_conversation_error"})})),r({element:"tweet",action:"mute_conversation"})},confirmation:s?{render:(e,t)=>o.createElement(rt.Z,{actionLabel:Di,graphic:Ei.default,graphicDisplayMode:"illustration",headline:Li,onAction:e,onClose:t,onImpression:c,onTertiaryAction:t,subtext:Zi,supportUrl:Mi,tertiaryActionLabel:Pi})}:void 0,Icon:Ti.default},m={text:Ii,onClick:d,Icon:Ci.default};return a.conversation_muted?m:u},Ui=p().ha35a1d2,Fi=p().i419d136,Bi=p().c1b9714a,Hi=p().c5d23126,Ni=p().d04f95c0,Oi=p().a50c911e,qi=p().d1c1e2c2,zi=(0,bi.Z)({loader:()=>i.e("ondemand.CommunityTweetPinning").then(i.bind(i,828856))}),ji=p().f5cdcc2c,Ki=({hasPremiumPlus:e,history:t,onTweetDismiss:i,promotedDismissUpsellEnabled:n})=>({text:ji,onClick:()=>{if(i?.(),!e&&n){const e={variant:"DismissAd"};t.push("/i/verified-get-verified",e)}},Icon:G.default}),Vi=p().hea3f8ac,$i=p().a09331e0;var Wi=i(530813);const Qi=p().c2e276e4;var Yi=i(310700),Gi=i(712881);const Xi=p().e68b09b4,Ji=p().a95f04ba,en=p().jfc76958;var tn=i(85375),nn=i(415506),on=i(711223);function rn(e){const{featureSwitches:t,isAppealTweetWarning:i=!1,promotedContent:n,tweet:o}=e,r=t.isTrue("responsive_web_twitter_article_seed_tweet_enabled"),s=t.isTrue("responsive_web_remove_qp_ad_label_enabled"),c=l.Z.getLocalizedEntityName({tweet:o,articlesEnabled:r});let d={element:"report_tweet"},u="/i/report/status",m=vt.C2.Tweet,_=nn.default,p=s&&a.Z.isQuickPromote(n)?sn.reportPost:a.Z.shouldShowAdDisclosure(n)?sn.reportAd:sn.reportTweet({entity:c});i&&(d={element:"appeal_tweet_warning"},u="/i/report/appeal_tweet_warning",m=vt.C2.AppealTweetWarning,_=on.default,p=sn.appealTweetWarning);return{Icon:_,onClick:()=>{const t=e.analytics.contextualScribeData,i=o?.extended_entities?.media?.length||0,r=o?.article?.media_entities?.length||0,s=(o?.entities?.urls?.length||0)>0||i>0||r>0||void 0!==o.card,a=t.items&&t.items[0]&&t.items[0].conversation_details?.conversation_section;e.scribeAction(d);if(!(o.community_id_str||o.card?.name===tn.sj.BROADCAST||o.card?.name===tn.sj.PERISCOPE_BROADCAST||n&&!e.featureSwitches.isTrue("responsive_web_ocf_reportflow_promoted_enabled"))&&(0,vt.Yw)(e.featureSwitches,m)){const t=(0,vt.j_)({clientReferer:window.location.pathname,conversationSection:a,isMedia:s,isPromoted:void 0!==n,reportType:m,reportedTweet:o,reportedUser:o.user.id_str,scribeNamespace:e.analytics.contextualScribeNamespace});e.history.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(t)}}})}else e.history.push({pathname:`${u}/${o.id_str}`,state:{clientReferer:window.location.pathname,conversationSection:a,isMedia:s,promotedContent:n,scribeNamespace:e.analytics.contextualScribeNamespace}})},testID:ie,text:p}}const sn={appealTweetWarning:p().f1824804,reportTweet:p().j4e43d8b,reportAd:p().e3fd237e,reportPost:p().ebb7662a};var an=i(946099),ln=i(782826);var cn=i(928875),dn=i(297938);const un=p().d7513755;var mn=i(646677);const _n=p().ab0decc0,pn=p().d7dbb71b;var hn=i(224823),bn=i(323683);const wn=p().ja66a2b5,fn=p().c2423b7b;var gn=i(659306);const yn=p().i31dfa4c,vn=p().j8e56ba2,En=p().ic030338,Tn=p().gfcea3f4,Cn=p().eb2d59f4,An=p().j44ec610,In=p().a2dd7414;var kn=i(963879);const xn=p().cac6a24a,Sn=(0,bi.Z)({loader:()=>i.e("ondemand.CommunityTweetPinning").then(i.bind(i,760844))}),Dn=p().f9478972,Ln=p().c5491b5d;var Pn=i(71620),Zn=i(143322),Mn=i(425182),Rn=i(80890),Un=i(629196),Fn=i(390387),Bn=i(601576),Hn=i(836255),Nn=i(872492),On=i(919022);const qn=(e,t)=>(0,B.t5)(e,B.EM),zn=(e,t)=>(0,B.t5)(e,B.f8),jn=e=>(0,B.t5)(e,B.FX),Kn=(e,t)=>(0,Mn.n9)(e,t.tweet),Vn=(e,t)=>(0,Mn.z0)(e,t.tweet),$n=e=>(t,i,{featureSwitches:n})=>Promise.all([t(Hn.Z.delete(e)),t((0,Nn.ZP)({focalTweetId:e}).deleteTimeline())]),Wn=(0,q.Z)().propsFromState((()=>({userCountry:Fn.GG,userLanguage:Fn.VT,shouldShowMuteEducationTip:qn,shouldShowHideReplyTip:zn,shouldShowConversationControlsTip:jn,disableRemoveFromCommunity:Kn,community:Vn}))).propsFromActions((()=>({addFlag:B.pj,addToast:Bn.fz,block:On.ZP.block,changeConversationControls:Hn.Z.changeConversationControls,createLocalApiErrorHandler:(0,Pn.zr)("TWEET_CURATION_ACTION_SHEET_CONTAINER"),deleteTweet:$n,dismissUserFromConversation:Nn.f0,follow:On.ZP.follow,hideReply:Hn.Z.hideReply,unmentionUserFromConversation:Hn.Z.unmentionUserFromConversation,mute:Un.r,muteTweet:Hn.Z.mute,pin:Rn.Yd,removeConversationControls:Hn.Z.removeConversationControls,removeTag:Hn.Z.removeTag,unblock:On.ZP.unblock,unfollow:On.ZP.unfollow,unhideReply:Hn.Z.unhideReply,unmute:On.ZP.unmute,unmuteTweet:Hn.Z.unmute,unpin:Rn.oc,highlight:Hn.Z.highlight,undoHighlight:Hn.Z.undoHighlight,unpublishArticleEntity:Zn.ZP.unpublish}))).withAnalytics(),Qn=/\/mediaViewer$/;class Yn extends o.Component{constructor(...e){super(...e),this.state={showModerationBlockConfirmation:!1,showEditWithPremiumUpsell:!1},this._hasPremiumPlus=this.context.userClaims.isVerifiedOrg()||this.context.userClaims.isVerifiedOrgAffiliate()||this.context.userClaims.hasSubscription("premium_plus"),this._shouldDisable=W.$y.bind(null,this.context.featureSwitches),this._birdwatchAction=fe.bind(null,this.context.featureSwitches),this._birdwatchRequestAction=ve.bind(null,this.context.featureSwitches),this._editTweetCompositionEligible=this.context.featureSwitches.isTrue("responsive_web_edit_tweet_composition_enabled"),this._editTweetCompositionEnabledForUser=()=>{const{featureSwitches:e,userClaims:t}=this.context,i=t.isTrueAndEnabled("subscriptions_feature_labs_1004"),n=e.isTrue("responsive_web_edit_tweet_enabled");return this._editTweetCompositionEligible&&(i||n)},this._birdwatchNoteWritingEnabled=this.context.featureSwitches.isTrue("responsive_web_birdwatch_note_writing_enabled"),this._birdwatchNoteRequestEnabled=this.context.featureSwitches.isTrue("responsive_web_birdwatch_note_request_enabled"),this._onMenuClick=()=>{const{addFlag:e,onMenuClick:t,shouldShowConversationControlsTip:i,withChangeConversationControlsTooltip:n}=this.props;i&&n&&e(B.FX),t&&t()},this._openEditWithPremiumUpsell=()=>{this.setState({showEditWithPremiumUpsell:!0})},this._closeEditWithPremiumUpsell=()=>{this.setState({showEditWithPremiumUpsell:!1})},this._renderEditWithPremiumUpsell=()=>this.state.showEditWithPremiumUpsell?o.createElement(S.Z,{onAction:this._closeEditWithPremiumUpsell,onClose:this._closeEditWithPremiumUpsell,variant:"EditPost"}):null,this._handleOnChangeConversationControls=e=>{const{addToast:t,analytics:i,changeConversationControls:n,createLocalApiErrorHandler:o,removeConversationControls:r,tweet:s}=this.props,a=v(s,e);e===f.k.all?r&&r(s.id_str).then((()=>{t({text:a}),i.scribe({element:io.all,action:"click",data:{items:[R.Z.getChangeConversationControlsItem(s,e)]}})}),o(P)):n&&n(s.id_str,{policy:e,screenName:s.user?.screen_name}).then((()=>{t({text:a}),i.scribe({element:io[e],action:"click",data:{items:[R.Z.getChangeConversationControlsItem(s,e)]}})}),o(P))},this._renderCurationActionMenu=e=>t=>o.createElement(s.l.Consumer,null,(({downloadLink:i})=>{const[n]=this._getActionItems(e,i);return o.createElement(E.default,{actionItems:n,onClose:t})})),this._getPrerollActionItems=()=>{const{analytics:e,history:t,onTweetDismiss:i,promotedContent:n,tweet:o,userCountry:r,userLanguage:s}=this.props,{featureSwitches:l}=this.context,c=this._scribeAction,d={},u=[],m=a.Z.isPromoted(n);return d.promotedTweetDismiss=Ki({onTweetDismiss:()=>i?.(!1),hasPremiumPlus:this._hasPremiumPlus,promotedDismissUpsellEnabled:l.isTrue("subscriptions_hide_ad_upsell_enabled"),history:t}),m&&(d.adInfo=_e({featureSwitches:l,promotedContent:n,scribeAction:c})),d.report=rn({analytics:e,history:t,promotedContent:n,scribeAction:c,tweet:o,featureSwitches:l,reporterCountry:r,reporterLanguage:s}),eo.forEach((e=>{const t=d[e];if(t){const e={Icon:t.Icon,disabled:t.disabled,isEmphasized:t.isEmphasized,onClick:t.onClick,testID:t.testID,text:t.text};u.push(e)}})),u},this._getMuteOrUnmuteAction=()=>{const{addToast:e,createLocalApiErrorHandler:t,dismissUserFromConversation:i,history:n,mute:o,promotedContent:r,tweet:s,unmute:a}=this.props,{user:l}=s,c={addToast:e,createLocalApiErrorHandler:t,scribeAction:this._scribeAction},d=this.context.featureSwitches.isTrue("subscriptions_mute_ad_upsell_enabled");return(0,vi.Z)({...c,mute:o,unmute:a,user:l,dismissUserFromConversation:i,promotedContent:r,muteAdUpsellEnabled:d,history:n,hasPremiumPlus:this._hasPremiumPlus})},this._getHighlightOrUndoAction=()=>{const{addToast:e,highlight:t,tweet:i,undoHighlight:n}=this.props,r=this._scribeAction,{featureSwitches:s,userClaims:a}=this.context;if(s.isTrue("highlights_tweets_action_enabled")&&!this._shouldDisable(i,W.d.Highlight)){const l=a.isTrueAndEnabled("subscriptions_feature_highlights"),c=s.isTrue("subscriptions_sign_up_enabled")&&s.isTrue("highlights_tweets_action_menu_upsell_enabled");return l?(({addToast:e,highlight:t,scribeAction:i,tweetId:n,undoHighlight:r})=>{const s=()=>{r(n).then((t=>{e(t?.tweet_highlights_delete?.success?{text:Dt,withClearButton:!0}:{text:Gt,withClearButton:!0,withAutoDismiss:!0})})),i({element:"undoHighlight"})},a=()=>{t(n).then((t=>{e(t?.tweet_highlights_put?.success?{action:{label:Ct.d,onAction:s},text:St,withClearButton:!0}:{text:Gt,withClearButton:!0,withAutoDismiss:!0})})),i({element:"highlight"})};return{confirmation:{render:(e,t)=>o.createElement(Qt,{onCancel:t,onConfirm:e,onHighlight:a,onUndohighlight:s,tweetId:n})},onClick(){},Icon:Tt.default,text:Yt,testID:se}})({addToast:e,scribeAction:r,tweetId:i.id_str,undoHighlight:n,highlight:t}):c?(({scribeAction:e})=>({text:Xt,onClick:()=>{e({element:"highlight-upsell"})},link:{pathname:"/i/verified-choose",state:{referring_page:"tweet_highlight_action_upsell"}},Icon:Tt.default,testID:ae}))({scribeAction:r}):null}},this._getHighlightUpsellOnPinAction=()=>{const{addToast:e,createLocalApiErrorHandler:t,highlight:i,pin:n,tweet:o,undoHighlight:r}=this.props,s=this._scribeAction,{featureSwitches:a,userClaims:l}=this.context,c=a.isTrue("highlights_tweets_upsell_on_pin_action_enabled"),d=a.isTrue("subscriptions_sign_up_enabled"),u=a.isTrue("highlights_tweets_action_enabled")&&!this._shouldDisable(o,W.d.Highlight),m=l.isTrueAndEnabled("subscriptions_feature_highlights");return u&&c&&d&&!m?pi({addToast:e,scribeAction:s,tweetId:o.id_str,undoHighlight:r,highlight:i,pin:n,createLocalApiErrorHandler:t,isBlueUpsellEligible:d&&!m}):(({addToast:e,createLocalApiErrorHandler:t,pin:i,scribeAction:n,tweetId:o})=>({confirmation:{text:Bi,headline:Fi,label:Hi},testID:ee,text:Ui,onClick:()=>{i(o).then((({addedToHighlights:t})=>{e({text:t?Oi:Ni})}),t({showToast:!0})),n({element:"pin"})},Icon:Jt.default}))({addToast:e,scribeAction:s,pin:n,createLocalApiErrorHandler:t,tweetId:o.id_str})},this._getEditTweetAction=()=>{const{tweet:e}=this.props,{featureSwitches:t,userClaims:i,viewerUserId:n}=this.context,{user:o}=e,r=this._scribeAction;if(function(e,t){let i=!0;if(e.edit_control?.editable_until_msecs){const t=We(e.edit_control.editable_until_msecs);i=Date.now()>new Date(t)}const n="0"===e.edit_control?.edits_remaining,o=!!e.edit_control?.is_edit_eligible,r="Twitter for iPhone"!==e.source_name&&"Twitter for iPad"!==e.source_name&&"Twitter for Android"!==e.source_name,s=e.user.pinned_tweet_ids_str,a=Array.isArray(s)&&s.some((t=>t===e.id_str));return t.isUserTweetAuthor&&!i&&!n&&!e.isStaleEdit&&o&&r&&!a}(e,{isUserTweetAuthor:o.id_str===n})&&!(0,W.$y)(t,e,W.d.EditTweet)){if(this._editTweetCompositionEnabledForUser())return function(e){const{featureSwitches:t,tweet:i}=e;let n="";if(i.note_tweet||i.full_text){const e={featureSwitches:t,forceEnabled:!0},o=Ve.Bq(i,e);n=je.ZP.tweetTextParts(o.text,o.display_text_range,o.entities).map(Qe).join("")}return{testID:ne,onClick:()=>{e.scribeAction({element:"edit"})},text:$e,Icon:Fe.default,link:{pathname:"/compose/post",state:{previousTweetId:i.id_str,defaultText:n,quotedStatusId:i.quoted_status?.id_str,hideUnsentTweetsButton:!0,editableUntil:i.edit_control?.editable_until_msecs,isLastEdit:"1"===i.edit_control?.edits_remaining}}}}({scribeAction:r,tweet:e,featureSwitches:t});if(!this._editTweetCompositionEnabledForUser()&&this._editTweetCompositionEligible&&!i.isAnyPremiumSubscriber()&&!i.hasSubscription("twitter_blue_legacy")&&t.isTrue("subscriptions_sign_up_enabled")&&t.isTrue("responsive_web_edit_tweet_upsell_enabled"))return(({onClick:e,scribeAction:t,tweet:i})=>({onClick:()=>{t({element:"edit-upsell"}),e()},text:Ye,Icon:Fe.default,testID:oe}))({tweet:e,scribeAction:r,onClick:this._openEditWithPremiumUpsell})}return null},this._getEditArticleAction=()=>{const{addToast:e,createLocalApiErrorHandler:t,history:i,tweet:n,unpublishArticleEntity:o}=this.props,{featureSwitches:r,viewerUserId:s}=this.context,{user:a}=n,l=this._scribeAction,c=a.id_str===s&&!(0,W.$y)(r,n,W.d.EditTweet);return n.article&&c?(({addToast:e,articleEnttiyId:t,createLocalApiErrorHandler:i,history:n,scribeAction:o,unpublishArticleEntity:r})=>({confirmation:{text:qe,headline:Oe,label:Ne},testID:me,text:He,onClick:()=>{r(t).then((()=>{n.push({pathname:(0,Be.lU)(t)}),e({text:ze})}),i({showToast:!0})),o({element:"editArticle"})},Icon:Fe.default}))({createLocalApiErrorHandler:t,scribeAction:l,addToast:e,unpublishArticleEntity:o,articleEnttiyId:n.article.rest_id,history:i}):null},this._getActionItems=(e,t)=>{const{deleteTweet:i,follow:n,hideReply:s,muteTweet:c,removeTag:d,unmentionUserFromConversation:u,unmuteTweet:m,unpin:_}=this.props,{addFlag:p,addToast:h,analytics:b,createLocalApiErrorHandler:w,feedbackItems:f,forwardPivotDisplayType:g,forwardPivotLandingUrl:y,history:v,isPinned:E,onDeleteTweet:T,onTweetDismiss:C,promotedContent:A,shouldShowHideReplyTip:I,shouldShowMuteEducationTip:k,tweet:x,userCountry:S,userLanguage:L,withChangeConversationControls:P,withHideReply:Z,withMuteConversation:M,withUnhideReply:R,withViewHiddenReplies:U}=this.props,{featureSwitches:F,userClaims:B,viewerUserId:H}=this.context,{user:N}=x,O=[],q=a.Z.isPromoted(A)&&a.Z.shouldShowAdDisclosure(A),z={},j=this._scribeAction,K={addToast:h,createLocalApiErrorHandler:w,scribeAction:j},V=N.id_str===H;Object.assign(z,this._getCommunityActions()),q&&(z.adInfo=_e({featureSwitches:F,promotedContent:A,scribeAction:j})),V&&!this._shouldDisable(x,W.d.ViewTweetActivity)&&(z.analytics=(({featureSwitches:e,scribeAction:t,tweet:i})=>{const n=e.isTrue("responsive_web_twitter_article_seed_tweet_enabled"),o=l.Z.getLocalizedEntityName({tweet:i,articlesEnabled:n});return{text:he({entity:o}),onClick:()=>{t({element:"analytics"})},link:`/${i.user.screen_name}/status/${i.id_str}/analytics`,Icon:pe.default,testID:X}})({tweet:x,scribeAction:j,featureSwitches:F})),F.isTrue("responsive_web_delete_tweet_stats_enabled")&&(z.viewTweetEngagements=(({featureSwitches:e,scribeAction:t,tweet:i})=>{const n=e.isTrue("responsive_web_twitter_article_seed_tweet_enabled"),o=l.Z.getLocalizedEntityName({tweet:i,articlesEnabled:n});return{text:Ln({entity:o}),Icon:pe.default,link:`${i.permalink}/quotes`,onClick:()=>{t&&t({element:"tweet_engagements"})},testID:de}})({tweet:x,scribeAction:j,featureSwitches:F})),N.protected||this._shouldDisable(x,W.d.Embed)||x.isPreviewDisplay||(z.embed=(({featureSwitches:e,permalink:t,scribeAction:i,tweet:n})=>{const o=e.isTrue("responsive_web_twitter_article_seed_tweet_enabled"),r=l.Z.getLocalizedEntityName({tweet:n,articlesEnabled:o});return{text:Xe({entity:r}),onClick:()=>{const e=`https://publish.twitter.com/?url=https://twitter.com${t}`;window.open(e,"_blank"),i({element:"embed_tweet"})},Icon:Ge.default}})({permalink:x.permalink,scribeAction:j,tweet:x,featureSwitches:F}));const $=l.Z.isArticlePost(x)&&F.isTrue("responsive_web_twitter_article_seed_tweet_enabled")&&B.isTrueAndEnabled("subscriptions_feature_article_composer");if($){const e=this._getEditArticleAction();e&&(z.edit=e)}else{const e=this._getEditTweetAction();e&&(z.edit=e)}if(F.isTrue("responsive_web_show_similar_posts_action_enabled")&&"ShowSimilarPosts"===g&&y&&(z.relatedPosts=(({isArticle:e,landingUrl:t,scribeAction:i})=>({text:e?$i:Vi,link:t,onClick:()=>{i({element:"similar_posts_action"})},Icon:Tt.default}))({landingUrl:y.url,isArticle:$,scribeAction:j})),U&&x.conversation_id_str===x.id_str&&!this._shouldDisable(x,W.d.ViewHiddenReplies)&&(z.viewHiddenReplies=(({permalink:e,scribeAction:t})=>({text:Dn,link:`${e}/hidden`,onClick:()=>{t({element:"view_moderated_replies"})},Icon:lt.default}))({permalink:x.permalink,scribeAction:j})),((e,t)=>{const i=t.extended_entities?.media&&t.extended_entities.media[0]&&t.extended_entities.media[0].features?.all?.tags;return!!i&&(0,Gi.Z)(i,(t=>t.user_id===e))})(H,x)&&(z.removeTag=(({createLocalApiErrorHandler:e,removeTag:t,tweet:i,viewerUserId:n})=>({confirmation:{label:Xi,headline:Ji},text:en,onClick:()=>{const o=i.extended_entities?.media?.map((e=>e.id_str)).join(",");t(i.id_str,{status_id:i.id_str,media_ids:o,tagged_user_ids:n}).catch(e({showToast:!0}))},Icon:Yi.default}))({createLocalApiErrorHandler:w,viewerUserId:H,removeTag:d,tweet:x})),((e,t)=>{if(!e)return!1;const i=t.entities?.user_mentions?.some((t=>t.id_str===e)),n=t.in_reply_to_user_id_str===e,o=i||n,r=t.unmentioned_user_ids?.includes(e);return o&&!r})(H,x)&&F.isTrue("dont_mention_me_enabled")&&(z.leaveConversation=(({addToast:e,createLocalApiErrorHandler:t,scribeAction:i,tweet:n,unmentionUserFromConversation:o})=>({confirmation:{render:yi},text:fi,onClick:()=>{o(n.id_str).then((()=>{e({text:gi})}),t({showToast:!0})),i({element:"leave_conversation"})},Icon:hi.default}))({...K,unmentionUserFromConversation:u,tweet:x})),H)if(N.blocking||this._shouldDisable(x,W.d.ListsAddRemove,void 0,void 0,V)||(z.addOrRemoveFromList=(({scribeAction:e,user:t})=>(0,Y.k)(t,(()=>{e({element:"add_to_list"})})))({user:N,scribeAction:j})),this._birdwatchNoteWritingEnabled&&!x.isStaleEdit&&(z.birdwatch=this._birdwatchAction({scribeAction:j,tweetId:x.id_str})),this._birdwatchNoteRequestEnabled&&!x.isStaleEdit&&(z.birdwatchRequest=this._birdwatchRequestAction({scribeAction:j,tweetId:x.id_str})),V){E?z.pinOrUnpin=(({addToast:e,createLocalApiErrorHandler:t,scribeAction:i,tweetId:n,unpin:o})=>({confirmation:{text:Cn,headline:Tn,label:An},testID:te,text:En,onClick:()=>{o(n).then((()=>{e({text:In})}),t({showToast:!0})),i({element:"unpin"})},Icon:Jt.default}))({...K,tweetId:x.id_str,unpin:_}):this._shouldDisable(x,W.d.PinToProfile)||(z.pinOrUnpin=this._getHighlightUpsellOnPinAction());const t=this._getHighlightOrUndoAction();t&&(z.highlightOrUndo=t),this._shouldIncludeTweetAppealOption()&&(z.appealTweetWarning=rn({analytics:b,history:v,isAppealTweetWarning:!0,promotedContent:A,scribeAction:j,tweet:x,featureSwitches:F,reporterCountry:S,reporterLanguage:L})),M&&!this._shouldDisable(x,W.d.MuteConversation)&&(z.muteOrUnmuteConversation=Ri({...K,addFlag:p,muteTweet:c,shouldShowMuteEducationTip:k,tweet:x,unmuteTweet:m})),P&&!this._shouldDisable(x,W.d.ConversationControls)&&(z.changeConversationControls=(({onChangeConversationControls:e,tweet:t})=>{const i=!!t.exclusivity_info,n=!!t.premium_info,o=i||n;return{disabled:o,onClick:o?void 0:e,subText:i?Ce:n?Ae:void 0,text:Te,Icon:Ee.default}})({tweet:x,onChangeConversationControls:e})),this._shouldDisable(x,W.d.Delete)||(z.delete=(({addToast:e,createLocalApiErrorHandler:t,deleteTweet:i,featureSwitches:n,onDeleteTweet:s,scribeAction:a,tweet:c,userClaims:d})=>{const u=(d.isTrueAndEnabled("subscriptions_feature_labs_1004")||n.isTrue("responsive_web_edit_tweet_enabled"))&&n.isTrue("responsive_web_edit_tweet_composition_enabled"),m=n.isTrue("subscriptions_feature_labs_1004")||n.isTrue("responsive_web_edit_tweet_enabled"),_=n.isTrue("responsive_web_twitter_article_seed_tweet_enabled"),p=l.Z.postEntityName;return{confirmation:{label:ke,headline:xe({entity:p}),text:l.Z.getOriginalTweet(c).isEdited&&(u||m)?De({entity:p}):_&&l.Z.isArticlePost(c)?o.createElement(o.Fragment,null,Se,o.createElement(r.Z,{style:Me.additionalInfo},Ze)):Se,confirmButtonType:"destructiveFilled"},isEmphasized:!0,text:ke,onClick:()=>{i(c.id_str).then((()=>{e({text:Le({entity:p})})}),t({defaultToast:{text:Pe({entity:p})},showToast:!0})),a({element:"delete"}),s&&s(c.id_str)},Icon:Ie.default}})({...K,deleteTweet:i,onDeleteTweet:T,tweet:x,featureSwitches:F,userClaims:B}))}else C&&q&&(z.promotedTweetDismiss=Ki({onTweetDismiss:C,hasPremiumPlus:this._hasPremiumPlus,promotedDismissUpsellEnabled:this.context.featureSwitches.isTrue("subscriptions_hide_ad_upsell_enabled"),history:v})),N.blocking||this._shouldDisable(x,W.d.Follow)||(z.followOrUnfollow=N.following?(({addToast:e,createLocalApiErrorHandler:t,promotedContent:i,scribeAction:n,unfollow:o,user:r})=>({text:wn({screenName:r.screen_name}),onClick:()=>{o(r.id_str,{promotedContent:i}).then((t=>{e({text:fn({screenName:r.screen_name})})}),t(bn.X)),n({element:"unfollow"}),n({action:"unfollow",element:"tweet_curation_action_menu"})},Icon:hn.default}))({...K,unfollow:this.props.unfollow,promotedContent:A,user:N}):(({addToast:e,createLocalApiErrorHandler:t,follow:i,promotedContent:n,scribeAction:o,user:r})=>({text:tt({screenName:r.screen_name}),onClick:()=>{i(r.id_str,{promotedContent:n}).then((()=>{o({element:"follow"}),o({action:"follow",element:"tweet_curation_action_menu"}),r.protected?e({text:it({screenName:r.screen_name})}):e({text:nt({screenName:r.screen_name})})}),t({...et.H,showToast:!0})),o({element:"follow_attempt"})},Icon:Je.default}))({...K,follow:n,promotedContent:A,user:N}),F.allTrue(["super_follow_android_web_subscription_enabled","creator_subscriptions_subscribe_action_tweet_menu_enabled"])&&N.super_follow_eligible&&!N.super_following&&(z.subscribe=(({history:e,scribeAction:t,user:i})=>({text:pn({followType:_n,screenName:`@${i.screen_name}`}),onClick:()=>{e.push(`/${i.screen_name}/creator-subscriptions/subscribe`,{referring_page:"profile_action_menu"}),t({element:"subscribe"})},Icon:mn.default,testID:le}))({scribeAction:j,history:v,user:N})),z.muteOrUnmute=this._getMuteOrUnmuteAction()),M&&(z.muteOrUnmuteConversation=Ri({...K,addFlag:p,muteTweet:c,shouldShowMuteEducationTip:k,tweet:x,unmuteTweet:m})),Z&&(z.hideReply=gt({...K,addFlag:p,hideReply:s,onBlock:this._handleBlock,onTweetDismiss:C,shouldShowHideReplyTip:I,tweet:x})),R&&(z.unhideReply=(({addToast:e,createLocalApiErrorHandler:t,scribeAction:i,tweet:n,unhideReply:o})=>({text:yn,onClick:()=>{o(n.id_str,{conversation_id:n.conversation_id_str}).then((t=>{e({ariaOnly:!0,text:vn})}),t({showToast:!0})),i({element:"unmoderate_reply"})},Icon:gn.default}))({...K,tweet:x,unhideReply:this.props.unhideReply})),z.blockOrUnblock=(0,D.op)({blockAction:this._handleBlock,source:D.SC.TWEET_CARET,testID:J,unblockAction:this._handleUnblock,user:N});H&&!V&&!x.isPreviewDisplay?z.report=rn({analytics:b,history:v,promotedContent:A,scribeAction:j,tweet:x,featureSwitches:F,reporterCountry:S,reporterLanguage:L}):!H&&S&&function(e){return"DE"===e.toUpperCase()}(S)&&(z.report=function(e){const t=e.featureSwitches.isTrue("responsive_web_twitter_article_seed_tweet_enabled"),i=l.Z.getLocalizedEntityName({tweet:e.tweet,articlesEnabled:t});return{Icon:nn.default,link:(0,ot.ju)("https://help.x.com/forms"),onClick:()=>{e.scribeAction({element:"report_tweet"})},testID:ie,text:e.promotedContent?sn.reportAd:sn.reportTweet({entity:i})}}({promotedContent:A,scribeAction:j,tweet:x,featureSwitches:F}),F.isTrue("netzdg_in_loggedout_posts_enabled")&&(z.reportNetzDG=cn.t({tweet:x})));const Q=F.getStringValue("dsa_report_illegal_content_url");return!V&&F.isTrue("dsa_report_flow_enabled")&&Q&&(z.reportEUIllegalContentDSA=function(e){const t=(0,an.MS)(e.reportUrl),{origin:i}=ln.ZP.get(),{id_str:n,permalink:o,user:r}=e.tweet,s=e.promotedContent?"ad":"post";return t.searchParams.set("content_id",o?`${i}${o}`:n),t.searchParams.set("content_type",s),r?.screen_name&&t.searchParams.set("content_author",`@${r?.screen_name}`),{Icon:nn.default,link:t.href,onClick:()=>{e.scribeAction({element:`report_eu_illegal_content_${s}`})},text:an.yh,testID:ue}}({tweet:x,promotedContent:A,scribeAction:j,reportUrl:Q})),t&&v.location.pathname.match(Qn)&&(z.downloadVideo=(({downloadVideoLink:e,scribeAction:t})=>({text:Ue,onClick:()=>{t({element:"download-video"})},link:e,Icon:Re.default,testID:le}))({downloadVideoLink:t,scribeAction:j})),eo.forEach((e=>{if("feedbackOptions"!==e||x.isStaleEdit)z[e]&&O.push(z[e]);else{const e=f?f.filter((e=>!e.excludeFromActionMenu)):[];O.push(...e)}})),[O,z]},this._getLeaveBehindMenuActions=()=>{const{feedbackItems:e,tweet:{user:t}}=this.props,[,i]=this._getActionItems(b.Z),n=[];return to.forEach((o=>{if("followOrUnfollow"!==o||t.following)if("feedbackOptions"===o){const t=e?e.filter((e=>!e.excludeFromActionMenu)):[];n.push(...t)}else i[o]&&n.push(i[o])})),n},this._handleBlock=()=>{const{addToast:e,block:t,createLocalApiErrorHandler:i,dismissUserFromConversation:n,history:o,promotedContent:r,tweet:s}=this.props;t(s.user.id_str,{promotedContent:r}).then((()=>{n({userId:s.user.id_str,feedbackKeys:["UnfollowEntity"]}),e({action:{label:Jn.unblock,onAction:this._handleUnblock},text:Jn.blockedSuccess});const t=!!s.promoted_content?.impression_id;if(this.context.featureSwitches.isTrue("subscriptions_block_ad_upsell_enabled")&&t&&!this._hasPremiumPlus){const e={variant:"BlockAd"};o.push("/i/verified-get-verified",e)}}),i(L.d)),this._scribeAction({element:"block"}),this._scribeAction({action:"block",element:"tweet_curation_action_menu"})},this._handleUnblock=()=>{const{createLocalApiErrorHandler:e,promotedContent:t,tweet:i,unblock:n}=this.props;n(i.user.id_str,{promotedContent:t}).catch(e(Z.D)),this._scribeAction({element:"unblock"}),this._scribeAction({action:"unblock",element:"tweet_curation_action_menu"})},this._handleImmediateDismissClick=()=>{const e=this._getLeaveBehindMenuActions();this.props.setLeaveBehindActionItems?.(e),this._onMenuClick()},this._scribeAction=({action:e,additionalData:t,element:i})=>{const{analytics:n,promotedContent:o,tweet:r}=this.props,s=n.contextualScribeData;let a=s?.items?s:{...s||{},items:[R.Z.getTweetItem(r,o)]};return t&&(a={...a,...t}),n.scribe({element:i,action:e||"click",data:a})}}render(){const{isActiveCreator:e,isDisabled:t,isForPreroll:i,menuControlProps:s,tweet:a,withChangeConversationControlsTooltip:l,withImmediateDismiss:m}=this.props,_=a.conversation_control?.policy||f.k.all;return i?o.createElement(c.ZP,{icon:o.createElement(h.default,{style:{height:"18px"}}),renderMenu:e=>o.createElement(d.Z,{items:this._getPrerollActionItems(),onCloseRequested:e,shouldCloseOnClick:!0}),size:"smallCompact",style:Gn.prerollDismissButton,type:"onMediaDominantColorFilled"}):m?o.createElement(r.Z,{style:Gn.dismissButton},o.createElement(x,{onClick:this._handleImmediateDismissClick})):o.createElement(r.Z,{style:Gn.overflowMenu},l?o.createElement($,null):null,o.createElement(w.Z,{controlled:!0,disallowedReplyControls:[],isActiveCreator:e,midConversationTweet:a,onChange:this._handleOnChangeConversationControls,setDisallowedReplyControls:()=>{},value:_},(({openPopover:e})=>o.createElement(u.Z,(0,n.Z)({},s,{isDisabled:t,onClick:this._onMenuClick,renderActionMenu:this._renderCurationActionMenu(e),testID:Q.Z.caret})))),l?o.createElement($,null):null,this._renderEditWithPremiumUpsell())}_getCommunityActions(){const e={},{tweet:t}=this.props,{community_id_str:i,id_str:n}=t,{viewerUserId:r}=this.context;if(!i||!r)return e;const{analytics:{contextualScribeNamespace:s},community:a,disableRemoveFromCommunity:l,withCommunityModerationAuthority:c}=this.props,{community_relationship:d,user:u}=t,m=!l&&c;if(u.id_str!==r&&m&&(this._shouldDisable(t,W.d.HideCommunityTweet)||(e.hideTweet=((e,t)=>({text:Et,Icon:yt.default,link:{pathname:`/i/report/${vt.C2.HideCommunityTweet}/${e}`,state:{scribeNamespace:t}}}))(n,{...s,element:"hide_tweet"})),this._shouldDisable(t,W.d.RemoveFromCommunity)||(e.removeCommunityMember=((e,t,i)=>({text:Qi,Icon:Wi.default,link:{pathname:`/i/report/${vt.C2.RemoveCommunityMember}/${e.id_str}?community_id=${t}`,state:{scribeNamespace:i}}}))(u,i,{...s,element:"remove_community_member"}))),this._shouldDisable(t,W.d.SearchUsersPost)||(e.searchUsersPost=((e,t,i)=>({text:un({screenName:e.screen_name}),Icon:dn.default,link:{pathname:`/i/communities/${t}/search/?q=(from:${e.screen_name})`,state:{scribeNamespace:i}}}))(u,i,{...s,element:"search_users_post"})),M.X7.includes(d?.actions.pin_action_result.__typename)&&!this._shouldDisable(t,W.d.PinCommunityTweet)){const t="CommunityTweetPinActionReplace"===a?.actions?.pin_action_result?.__typename;e.pinCommunityTweet=((e,t,i)=>({text:qi,Icon:Jt.default,onClick(){},confirmation:{render:(n,r)=>o.createElement(zi,{communityId:t,isReplacing:i,onCancel:r,onConfirm:n,tweetId:e})}}))(n,i,t)}return M.Gd.includes(d?.actions.unpin_action_result.__typename)&&!this._shouldDisable(t,W.d.UnpinCommunityTweet)&&(e.unpinCommunityTweet=((e,t)=>({text:xn,Icon:kn.default,onClick(){},confirmation:{render:(i,n)=>o.createElement(Sn,{communityId:t,onCancel:n,onConfirm:i,tweetId:e})}}))(n,i)),e}_shouldIncludeTweetAppealOption(){const{forwardPivotDisplayType:e,isNsfwUser:t,tweet:i,userCountry:n,userLanguage:o}=this.props,{featureSwitches:r,viewerUserId:s}=this.context;return(0,U.rT)({viewerUserId:s,featureSwitches:r,forwardPivotDisplayType:e,tweet:i,userCountry:n,userLanguage:o})||(0,U.V4)({viewerUserId:s,featureSwitches:r,isNsfwUser:t,tweet:i,userCountry:n,userLanguage:o})}}Yn.defaultProps={withRemoveFromBookmarks:!1},Yn.contextType=H.rC;const Gn=m.default.create((e=>({overflowMenu:{display:"flex",flexDirection:"row",alignItems:"center"},dismissButton:{flexDirection:"row",alignItems:"center",marginTop:e.spaces.space8},prerollDismissButton:{width:"2rem",height:"1rem",backgroundColor:"rgba(0,0,0,.5)",borderRadius:"4px"}}))),Xn=(0,F.ZP)(Wn(Yn)),Jn={unblock:p().e133be4e,blockedSuccess:p().a9fd20be},eo=["searchUsersPost","hideTweet","removeCommunityMember","delete","edit","appealTweetWarning","pinOrUnpin","highlightOrUndo","promotedTweetDismiss","adInfo","removeTag","feedbackOptions","followOrUnfollow","subscribe","addOrRemoveFromList","muteOrUnmute","muteOrUnmuteConversation","leaveConversation","changeConversationControls","blockOrUnblock","viewTweetEngagements","downloadVideo","hideReply","unhideReply","embed","report","reportNetzDG","reportEUIllegalContentDSA","analytics","relatedPosts","viewHiddenReplies","birdwatch","birdwatchRequest","pinCommunityTweet","unpinCommunityTweet"],to=["feedbackOptions","followOrUnfollow","muteOrUnmute","blockOrUnblock","report","reportEUIllegalContentDSA"];const io=Object.freeze({all:"change_conversation_control_to_everyone",community:"change_conversation_control_to_community",by_invitation:"change_conversation_control_to_mentioned",followers:"change_conversation_control_to_followers",subscribers:"change_conversation_control_to_subscribers",community_members:"community_members",community_hidden_tweet:"community_hidden_tweet",super_followers_exclusive:"super_followers_exclusive",community_tweet_member_removed:"community_tweet_member_removed",trusted_friends_tweet:"trusted_friends_tweet",verified:"change_conversation_control_to_verified",premium:"change_conversation_control_to_premium"})},376293:(e,t,i)=>{"use strict";i.d(t,{$f:()=>E,KV:()=>b,LI:()=>k,SC:()=>v,Vt:()=>g,ed:()=>x,op:()=>T});var n=i(202784),o=i(190286),r=i(111677),s=i.n(r),a=i(616894),l=i(314948),c=i(516951),d=i(163390);const u=s().cfd2f35e,m=s().f9e45cfb,_=s().fcd4d489,p=s().a6450e84,h=s().ad00a739,b=s().a9fd20be,w=s().j546fb79,f=s().c9623eeb,g=s().e133be4e,y=s().f5f01af6,v=Object.freeze({TWEET_CARET:"tweet_caret",PROFILE:"user_profile",LIST_DETAIL:"list_detail",RICH_FEEDBACK:"rich_feedback",TWEET:"tweet",FOLLOWERS_LIST:"followers_list"}),E=e=>({confirmButtonType:"destructiveFilled",headline:m({screenName:e}),label:p,text:h({screenName:e})}),T=({blockAction:e,blockSubtext:t,source:i,testID:n,unblockAction:o,unblockSubtext:r,user:s})=>{let a,l=c.Z;const u=k(s);switch(i){case v.PROFILE:case v.LIST_DETAIL:case v.FOLLOWERS_LIST:l=()=>{s.blocking?o(u):e(u)};break;case v.TWEET:case v.TWEET_CARET:case v.RICH_FEEDBACK:a=d.uq.block,l=()=>{s.blocking?o(u):e(u)}}return{confirmation:u,onClick:l,testID:n,shortcutKey:a,Icon:C(s.blocking),text:I(s),subText:A({user:s,blockSubtext:t,unblockSubtext:r})}},C=e=>e?l.default:a.default,A=({blockSubtext:e,unblockSubtext:t,user:i})=>!i.blocking&&e?e(i.screen_name):i.blocking?t:void 0,I=e=>e.blocking?f({screenName:e.screen_name}):_({screenName:e.screen_name}),k=e=>{return e.blocking?(t=e.screen_name,{confirmButtonType:"primary",headline:w({screenName:t}),label:g,text:y}):E(e.screen_name);var t},x=({confirmation:e,handleConfirm:t,onClose:i})=>{const{confirmButtonType:r,headline:s,label:a,text:l}=e;return n.createElement(o.Z,{cancelButtonLabel:u,confirmButtonLabel:a,confirmButtonType:r,headline:s,onCancel:i,onConfirm:t,text:l})}},712816:(e,t,i)=>{"use strict";i.d(t,{d:()=>o});var n=i(111677);const o={defaultToast:{text:i.n(n)().b6878b0a},showToast:!0}},879596:(e,t,i)=>{"use strict";i.d(t,{D:()=>o});var n=i(111677);const o={defaultToast:{text:i.n(n)().ca96fe6e},showToast:!0}},163390:(e,t,i)=>{"use strict";i.d(t,{OX:()=>m,Od:()=>d,PN:()=>_,uq:()=>c,wR:()=>h});var n=i(522171),o=i(111677),r=i.n(o),s=i(912021),a=i(323265),l=i(251067);const c=Object.freeze({toggleCommandCenter:"mod+k",openKeyboardShortcuts:"?",swipeLeft:"left",swipeRight:"right",nextItem:"j",previousItem:"k",refresh:".",nightMode:"z",bookmark:"b",block:"x",mute:"u",newTweet:"n",newMessage:"m",toggleDMDrawer:"i",goHome:"g h",goExplore:"g e",goNotifications:"g n",goMentions:"g r",goProfile:"g p",goLikes:"g l",goLists:"g i",goMessages:"g m",goGrok:"g g",goToDrafts:"g f",goToScheduled:"g t",goSettings:"g s",goToUser:"g u",goBookmarks:"g b",goTopArticles:"g a",goDisplay:"g d",search:"/",audio:{dock:"a d",play:"a space",mute:"a m"},video:{play1:"k",play2:"space",mute:"m"},columns:{createNewColumn:"c n",duplicateColumn:"c d",focusOnReorderButton:"c r",lastColumn:"c 0",nextColumn:"]",nthColumn:"c 1..9",prevColumn:"[",removeColumn:"c backspace",toggleColumnOptions:"c o",undoRemoveColumn:"c u"},decks:{createNewDeck:"d n",editActiveDeck:"d e",lastPinnedDeck:"d 0",manageAllDecks:"d m",nthPinnedDeck:"d 1..9"},labs:{openCommandCenter:">"}}),d=(0,s.Z)((e=>{const t=e?[{description:r().b7fa0cfe,keys:c.goTopArticles,universal:!1}]:[];return[...(0,l.fH)(l.vw.prod)?[]:[{description:"Toggle Command Center",keys:`${u} k`,universal:!1}],{description:r().d5696fcc,keys:c.openKeyboardShortcuts,universal:!0},{description:r().a83d4280,keys:c.nextItem,universal:!0},{description:r().g0048656,keys:c.previousItem,universal:!0},{description:r().a690c4d0,keys:"Space",universal:!0},{description:r().e893811a,keys:c.refresh,universal:!1},{description:r().ha8209bc,keys:c.goHome,universal:!1},{description:r().fcf3e54c,keys:c.goExplore,universal:!1},{description:r().eb75875e,keys:c.goNotifications,universal:!1},{description:r().cdb53d7a,keys:c.goMentions,universal:!1},{description:r().fa98627a,keys:c.goProfile,universal:!1},{description:r().d4ebc798,keys:c.goToDrafts,universal:!1},{description:r().fd6a3f30,keys:c.goToScheduled,universal:!1},{description:r().d7b8ebaa,keys:c.goLikes,universal:!1},{description:r().b0041756,keys:c.goLists,universal:!1},{description:r().d4986f86,keys:c.goMessages,universal:!1},{description:r().h5860a68,keys:c.goGrok,universal:!1},{description:r().bb081ea2,keys:c.goSettings,universal:!1},{description:r().i3145aa0,keys:c.goBookmarks,universal:!1},...t,{description:r().eee2ed92,keys:c.goToUser,universal:!1},{description:r().ee5ccf3e,keys:c.goDisplay,universal:!1}]})),u=a.ZP.isMac()?"":"CTRL",m=()=>[{description:r().ab3d53f8,keys:c.newTweet,universal:!1},{description:r().de94bda6,keys:`${u} Enter`,universal:!1},{description:r().e736990a,keys:c.newMessage,universal:!1},{description:r().a9ae1e78,keys:c.search,universal:!1},{description:r().fe731016,keys:n.Z.shortcuts.like,universal:!1},{description:r().d17df548,keys:n.Z.shortcuts.reply,universal:!1},{description:r().g062295e,keys:n.Z.shortcuts.retweet,universal:!1},{description:r().h01621a4,keys:n.Z.shortcuts.share,universal:!0},{description:r().gb303814,keys:c.bookmark,universal:!1},{description:r().c03b1126,keys:c.mute,universal:!1},{description:r().ebd2abb2,keys:c.block,universal:!1},{description:r().hc6c5510,keys:"Enter",universal:!0},{description:r().eebdef38,keys:n.Z.shortcuts.openMediaModal,universal:!0},{description:r().b488758c,keys:c.toggleDMDrawer,universal:!1}],_=()=>[{description:r().c82314e0,keys:c.video.play1,universal:!0},{description:r().c82314e0,keys:c.video.play2,universal:!0},{description:r().b881560e,keys:c.video.mute,universal:!0},{description:r().a94f7302,keys:c.audio.dock,universal:!1},{description:r().a7e604c6,keys:c.audio.play,universal:!1},{description:r().f978c4fc,keys:c.audio.mute,universal:!1}],p=(0,s.Z)((e=>{const t=d(e),i=m(),n=_(),o={};return[...i,...n,...t].forEach((({description:e,keys:t})=>{Array.isArray(t)?t.forEach((t=>{o[t]=e})):o[t]=e})),JSON.stringify(o)})),h=(e,t)=>{if(t)return{dataSet:{"at-shortcutkeys":p(e)}}}},572657:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>c});var n=i(912021),o=i(484636),r=i(545521);const s=(e,t)=>`articleEntitiesSlice-${e}-${t}`,a=(e,t)=>(0,r.Z)({contextSuffix:"ARTICLE_ENTITIES_SLICE",getFetchApiEndpoint:e=>e.withEndpoint(o.Z).fetchArticleEntitiesSlice,getEndpointParams:i=>({...i,userId:e,lifecycle:t,count:20}),sliceKey:s(e,t)}),l=(e,t)=>{const i=(0,n.Z)(((e,t)=>a(e,t)));return i(e,t)},c={fetchIfNeeded:(e,t)=>l(e,t).fetchIfNeeded(),selectFetchStatus:(e,t,i)=>l(t,i).selectFetchStatus(e),selectSliceModule:l,selectArticleEntities:(e,t,i)=>l(t,i).selectItems(e),articleEntitiesSliceModule:a}},143322:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>N});var n=i(925873),o=i(450681),r=i(484636),s=i(466015),a=i(499627),l=i(312771),c=i(56519),d=i(502909),u=i(600823),m=i(558369),_=i(390387),p=i(195250),h=i(919022),b=i(572657);const w=(0,d.ZP)({namespace:"articleEntities"}),f=(0,d.tb)(w,{context:"FETCH_ARTICLE_ENTITY",endpoint:e=>e.withEndpoint(r.Z).fetchArticleEntity,params:([e])=>({articleEntityId:e})});var g=i(794057);const y=(e,t,i)=>{const n=b.ZP.selectSliceModule(e,i);return n.selectFetchStatus(t)===l.iF.LOADED?n:void 0},v=e=>t=>{let i=t?.entities?.articleEntities[e];if(i)return i.cover_media||(i={...i,cover_media:void 0}),[H.updateOne(e,i)]},E={delete:(0,d.Tx)(w,"delete",{getParams:e=>({articleEntityId:e}),getApiMethod:e=>e.withEndpoint(r.Z).deleteArticleEntity,context:"DELETE_ARTICLE_ENTITY",mapResponseToActions:(e,t,i)=>t=>{const n=i(),r=(0,_.x0)(n);if(r&&t){const t=y(r,n,g.iN.DRAFT),i=y(r,n,g.iN.PUBLISHED);return(0,o.Z)([t?.removeItems([e]),i?.removeItems([e])])}}}),updateCoverMedia:(0,d.Tx)(w,"updateCoverMedia",{getParams:(e,{mediaCategory:t,mediaId:i}={})=>({articleEntityId:e,mediaId:i,mediaCategory:t}),getApiMethod:e=>e.withEndpoint(r.Z).updateArticleEntityCoverMedia,context:"UPDATE_ARTICLE_COVER_MEDIA",mapResponseToActions:v}),updateContent:(0,d.Tx)(w,"update",{getParams:(e,{content_state:t}={})=>({articleEntityId:e,content_state:t}),getApiMethod:e=>e.withEndpoint(r.Z).updateArticleEntityContent,context:"UPDATE_ARTICLE_ENTITY",mapResponseToActions:v}),updateTitle:(0,d.Tx)(w,"updateTitle",{getParams:(e,{title:t}={})=>({articleEntityId:e,title:t}),getApiMethod:e=>e.withEndpoint(r.Z).updateArticleEntityTitle,context:"UPDATE_ARTICLE_ENTITY_TITLE",mapResponseToActions:v}),create:(0,d.Tx)(w,"create",{getParams:(e="",{content_state:t}={})=>({content_state:t,title:e}),getApiMethod:e=>e.withEndpoint(r.Z).createDraftArticle,context:"CREATE_ARTICLE_ENTITY",mapResponseToActions:(e,t,i)=>e=>{const t=i(),n=(0,_.x0)(t);if(e&&n){const{entities:i,result:r}=e,s="string"==typeof r&&i?.articleEntities?.[r].rest_id,a=y(n,t,g.iN.DRAFT);return i&&s?(0,o.Z)([(0,c.dP)(i),a?.injectItems([s])]):void 0}}}),publish:(0,d.Tx)(w,"publish",{getParams:(e,{conversationControl:t,visibilitySetting:i}={})=>({articleEntityId:e,conversationControl:t,visibilitySetting:i}),getApiMethod:e=>e.withEndpoint(r.Z).publishArticleEntity,context:"PUBLISH_ARTICLE_ENTITY",mapResponseToActions:(e,t,i)=>t=>{let n=t?.entities?.articleEntities[e];const o=i(),r=h.ZP.selectViewerUser(o),a=r?.id_str,l=(0,m.mz)(o);if(n&&a){n.cover_media||(n={...n,cover_media:void 0});const t=y(a,o,g.iN.DRAFT),i=y(a,o,g.iN.PUBLISHED);let r=[];t&&i&&(r=[i?.injectItems([e]),t?.removeItems([e])]);const c=n?.metadata?.tweet_results?.result?.rest_id,d=c?[(0,p.ZP)(l,a,p.uh.articles).injectEntry(s.Se({id:c,sortIndex:c}))]:[];return[H.updateOne(e,n),...r,...d]}}}),unpublish:(0,d.Tx)(w,"unpublish",{getParams:e=>({articleEntityId:e}),getApiMethod:e=>e.withEndpoint(r.Z).unpublishArticleEntity,context:"UNPUBLISH_ARTICLE_ENTITY",mapResponseToActions:(e,t,i)=>t=>{let n=t?.entities?.articleEntities[e];const o=i(),r=h.ZP.selectViewerUser(o),s=r?.id_str,a=(0,m.mz)(o);if(n&&s){n.cover_media||(n={...n,cover_media:void 0});const t=y(s,o,g.iN.DRAFT),i=y(s,o,g.iN.PUBLISHED);let r=[];t&&i&&(r=[i?.removeItems([e]),t?.injectItems([e])]);const l=n?.metadata?.tweet_results?.result?.rest_id,c=l?Object.keys(p.uh).map((e=>(0,p.ZP)(a,s,p.uh[e]).removeTweets({[l]:!0}))):[];return[H.updateOne(e,n),...r,...c]}}})},T="articleEntities",C=`rweb/${T}`,A=e=>`${C}/${e}`,I=A("ADD_COVER_MEDIA"),k=A("REMOVE_COVER_MEDIA"),x=A("SET_PREV_ARTICLE_ENTITY_ID"),S=A("SET_EDITOR_STATE"),D=A("SET_IS_ARTICLE_ENTITY_LOADING"),L=A("SET_MEDIA_ENTITY_KEY_TO_FILES_MAP"),P=A("SET_MEDIA_ID_TO_LOCAL_MEDIA_ID_MAP"),Z=A("SET_PREV_MEDIA_ENTITY_KEYS"),M=A("SET_PREV_ARTICLE_ENTITY_MEDIA"),R=A("SET_MEDIA_BEING_EDITED"),U=A("SET_MEDIA_ENTITY_KEY_BEING_EDITED"),F={coverMediaId:void 0,editorState:(e=>{const t=n.Z.initEditorState(e);return n.Z.convertEmojiToEntities(t)})(),prevArticleEntityId:void 0,isArticleEntityLoading:!1,mediaBeingEdited:void 0,mediaEntityKeyBeingEdited:void 0,mediaEntityKeyToFilesMap:{},mediaIdToLocalMediaIdMap:{},prevMediaEntityKeys:[],prevArticleEntityMedia:[]};a.Z.register({[T]:function(e=F,t){if(!t)return e;switch(t.type){case I:return{...e,coverMediaId:t.meta?.mediaId};case k:return{...e,coverMediaId:void 0};case S:return{...e,editorState:t.meta?.editorState||e.editorState};case x:return{...e,prevArticleEntityId:t.meta?.prevArticleEntityId};case D:return{...e,isArticleEntityLoading:t.meta?.isArticleEntityLoading||!1};case P:return{...e,mediaIdToLocalMediaIdMap:t.meta?.mediaIdToLocalMediaIdMap||{}};case L:return{...e,mediaEntityKeyToFilesMap:t.meta?.mediaEntityKeyToFilesMap||{}};case Z:return{...e,prevMediaEntityKeys:t.meta?.prevMediaEntityKeys||[]};case M:return{...e,prevArticleEntityMedia:t.meta?.prevArticleEntityMedia||[]};case R:return{...e,mediaBeingEdited:t.meta?.mediaBeingEdited};case U:return{...e,mediaEntityKeyBeingEdited:t.meta?.mediaEntityKeyBeingEdited};default:return e}}});const B=(e,t)=>{const i=w.select(e,t),n=i?.metadata?.author_results.result;return"User"===n?.__typename?n?.rest_id:void 0},H={...w,...f,...E,addCoverMedia:e=>({meta:{mediaId:e},type:I}),removeCoverMedia:e=>({meta:{mediaId:e},type:k}),selectEditorState:e=>e[T].editorState,selectAuthorFetchStatus:(e,t)=>{const i=B(e,t);return i?h.ZP.selectFetchStatus(e,i):void 0},setEditorState:e=>({meta:{editorState:e},type:S}),setMediaBeingEdited:e=>({meta:{mediaBeingEdited:e},type:R}),setMediaEntityKeyBeingEdited:e=>({meta:{mediaEntityKeyBeingEdited:e},type:U}),setMediaEntityKeyToFilesMap:e=>({meta:{mediaEntityKeyToFilesMap:e},type:L}),setMediaIdToLocalMediaIdMap:e=>({meta:{mediaIdToLocalMediaIdMap:e},type:P}),setPrevMediaEntityKeys:e=>({meta:{prevMediaEntityKeys:e},type:Z}),setPrevArticleEntityMedia:e=>({meta:{prevArticleEntityMedia:e},type:M}),selectAuthorId:B,selectCoverMediaId:e=>e[T].coverMediaId,selectMediaBeingEdited:e=>e[T].mediaBeingEdited,selectMediaEntityKeyBeingEdited:e=>e[T].mediaEntityKeyBeingEdited,selectMediaEntityKeyToFilesMap:e=>e[T].mediaEntityKeyToFilesMap,selectMediaIdToLocalMediaIdMap:e=>e[T].mediaIdToLocalMediaIdMap,selectPrevMediaEntityKeys:e=>e[T].prevMediaEntityKeys,selectPrevArticleEntityMedia:e=>e[T].prevArticleEntityMedia,selectTweetId:(e,t)=>{const i=w.select(e,t),n=i?.metadata?.tweet_results?.result;return"Tweet"===n?.__typename?n?.rest_id:void 0},selectAuthor:(e,t)=>{const i=B(e,t);return i?h.ZP.select(e,i):void 0},selectPrevArticleEntityId:e=>e[T].prevArticleEntityId,selectIsArticleEntityLoading:e=>e[T].isArticleEntityLoading,setPrevArticleEntityId:e=>({meta:{prevArticleEntityId:e},type:x}),setIsArticleEntityLoading:e=>({meta:{isArticleEntityLoading:e},type:D}),selectArticleEntityTitle:(e,t)=>{const i=w.select(e,t);return i?.title}},N=u.Z.register(H)},232130:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(202784),o=i(890601),r=i(783427),s=i(347101);const a=(e={})=>{const{direction:t}=(0,r.Z)();return(0,o.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[s.Z.root,e.style],viewBox:"0 0 200 200",children:n.createElement("g",null,n.createElement("circle",{cx:"100",cy:"100",fill:"#97E3FF",r:"100"}),n.createElement("path",{d:"M57.575 121.5h29.408l25.142 28.858h16.367s6.425-12.867 6.425-50.133H52.042c0 15.817 5.533 21.275 5.533 21.275z",fill:"#005FD1"}),n.createElement("path",{d:"M112.125 50.092L86.983 78.95H57.575s-5.533 5.458-5.533 21.275h82.875c0-37.267-6.425-50.133-6.425-50.133h-16.367z",fill:"#1DA1F2"}),n.createElement("ellipse",{cx:"123.283",cy:"100.225",fill:"#97E3FF",rx:"6.567",ry:"45.075"}),n.createElement("path",{d:"M147.408 146.8L48.225 59.867c-2.425-2.125-2.667-5.817-.542-8.242 2.125-2.425 5.817-2.667 8.242-.542l99.183 86.925c2.425 2.125 2.667 5.817.542 8.242-2.125 2.425-5.817 2.675-8.242.55z",fill:"#71C9F8"}),n.createElement("path",{d:"M94.275 100.225h-7.058l30.808 27c-.233-2.108-.433-4.35-.608-6.717l-23.142-20.283zm33.942 29.75c-.25 1.983-.533 3.808-.833 5.458l4.325 3.792c.324-1.592.65-3.375.957-5.35l-4.45-3.9zm-33.942-29.75L70 78.958h-7.058l24.275 21.267",fill:"#005FD1"}),n.createElement("path",{d:"M118.025 127.225l9.358 8.208c.3-1.65.575-3.475.833-5.458l-10.8-9.467c.176 2.367.376 4.617.61 6.717z",fill:"#1DA1F2"}))},{writingDirection:t})};a.metadata={width:200,height:200};const l=a},711223:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(202784),o=i(890601),r=i(783427),s=i(347101);const a=(e={})=>{const{direction:t}=(0,r.Z)();return(0,o.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[s.Z.root,e.style],viewBox:"0 0 24 24",children:n.createElement("g",null,n.createElement("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"}))},{writingDirection:t})};a.metadata={width:24,height:24};const l=a},310700:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(202784),o=i(890601),r=i(783427),s=i(347101);const a=(e={})=>{const{direction:t}=(0,r.Z)();return(0,o.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[s.Z.root,e.style],viewBox:"0 0 24 24",children:n.createElement("g",null,n.createElement("path",{d:"M21.04 1.54L17.5 5.09c-.04-.02-.08-.03-.13-.04L14.3 3H9.7l-3 2H5C3.62 5 2.5 6.12 2.5 7.5v11c0 .46.12.88.34 1.25l-1.3 1.29 1.42 1.42 19.5-19.5-1.42-1.42zM13.7 5l2.33 1.56-2 1.99C13.44 8.2 12.74 8 12 8c-2.21 0-4 1.79-4 4 0 .74.2 1.44.55 2.03L4.5 18.09V7.5c0-.28.22-.5.5-.5h2.3l3-2h3.4zM12 10c.18 0 .35.02.52.07l-2.45 2.45c-.05-.17-.07-.34-.07-.52 0-1.1.9-2 2-2zm7 11H7.24l2-2H19c.28 0 .5-.22.5-.5V9h2v9.5c0 1.38-1.12 2.5-2.5 2.5z"}))},{writingDirection:t})};a.metadata={width:24,height:24};const l=a},963879:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(202784),o=i(890601),r=i(783427),s=i(347101);const a=(e={})=>{const{direction:t}=(0,r.Z)();return(0,o.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[s.Z.root,e.style],viewBox:"0 0 24 24",children:n.createElement("g",null,n.createElement("path",{d:"M17.896 11.553L20.12 16H13v5l-1 2-1-2v-3.752L14.248 14h2.636l-.776-1.553 1.789-.895zm3.813-7.843l-17.999 18-.707-.707-.707-.707L6.592 16H3.88L7 9.76V4.5C7 3.121 8.122 2 9.5 2h5C15.878 2 17 3.121 17 4.5v1.092l3.296-3.296.707.707.707.707zm-6.71 3.882V4.5c0-.275-.224-.5-.5-.5h-5c-.276 0-.5.225-.5.5v5.732L7.115 14h1.476l6.408-6.408z"}))},{writingDirection:t})};a.metadata={width:24,height:24};const l=a}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.TweetCurationActionMenu.a2b6738a.js.map