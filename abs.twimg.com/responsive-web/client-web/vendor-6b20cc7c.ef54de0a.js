window.__SCRIPTS_LOADED__.runtime&&((self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["vendor-6b20cc7c"],{134740:(e,t,s)=>{s.d(t,{Z:()=>b});var r=s(807896),i=s(231461),l=s(133028),n=s(325686),o=s(297689);const a=function e(t,s,r){if(void 0===r&&(r=-1),0===r)return!0;if(t===s)return!1;if("function"==typeof t&&"function"==typeof s)return!1;if("object"!=typeof t||null===t)return t!==s;if("object"!=typeof s||null===s)return!0;if(t.constructor!==s.constructor)return!0;if(Array.isArray(t)){var i=t.length;if(s.length!==i)return!0;for(var l=0;l<i;l++)if(e(t[l],s[l],r-1))return!0}else{for(var n in t)if(e(t[n],s[n],r-1))return!0;for(var o in s)if(void 0===t[o]&&void 0!==s[o])return!0}return!1};var h=s(33229),c=s(614983),d=s.n(c),u=s(202784),p=s(607849),_=s(280652),f=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function m(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(r=e[s],i=t[s],!(r===i||f(r)&&f(i)))return!1;var r,i;return!0}var g=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function v(e){return null!=e?e:1}class y extends u.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=e=>{this._listRef=e},this._getItem=(e,t)=>{var s=v(this.props.numColumns);if(s>1){for(var r=[],i=0;i<s;i++){var l=t*s+i;if(l<e.length){var n=e[l];r.push(n)}}return r}return e[t]},this._getItemCount=e=>{if(null!=e&&function(e){return"number"==typeof Object(e).length}(e)){var t=v(this.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},this._keyExtractor=(e,t)=>{var s,r=v(this.props.numColumns),i=null!==(s=this.props.keyExtractor)&&void 0!==s?s:_.jn;return r>1?(d()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",r),e.map(((e,s)=>i(e,t*r+s))).join(":")):i(e,t)},this._renderer=(e,t,s,r,i)=>{var l=v(r),o=s=>e?u.createElement(e,s):t?t(s):null,a=e=>{if(l>1){var t=e.item,r=e.index;return d()(Array.isArray(t),"Expected array of items with numColumns > 1"),u.createElement(n.Z,{style:[C.row,s]},t.map(((t,s)=>{var i=o({item:t,index:r*l+s,separators:e.separators});return null!=i?u.createElement(u.Fragment,{key:s},i):null})))}return o(e)};return e?{ListItemComponent:a}:{renderItem:a}},this._memoizedRenderer=function(e,t){void 0===t&&(t=m);var s=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(s&&s.lastThis===this&&t(r,s.lastArgs))return s.lastResult;var l=e.apply(this,r);return s={lastResult:l,lastArgs:r,lastThis:this},l}return r.clear=function(){s=null},r}(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map((e=>({viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(e.onViewableItemsChanged)}))):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){d()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),d()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),d()(!a(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),d()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var t=e.getItem,s=e.getItemCount,r=e.horizontal,i=e.columnWrapperStyle,l=e.onViewableItemsChanged,n=e.viewabilityConfigCallbackPairs,o=v(this.props.numColumns);d()(!t&&!s,"FlatList does not support custom data formats."),o>1?d()(!r,"numColumns does not support horizontal."):d()(!i,"columnWrapperStyle not supported for single column lists"),d()(!(l&&n),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,t){var s,r=v(this.props.numColumns),i=null!==(s=this.props.keyExtractor)&&void 0!==s?s:_.jn;t.item.forEach(((s,n)=>{d()(null!=t.index,"Missing index!");var o=t.index*r+n;e.push((0,l.Z)((0,l.Z)({},t),{},{item:s,key:i(s,o),index:o}))}))}_createOnViewableItemsChanged(e){return t=>{var s=v(this.props.numColumns);if(e)if(s>1){var r=[],i=[];t.viewableItems.forEach((e=>this._pushMultiColumnViewable(i,e))),t.changed.forEach((e=>this._pushMultiColumnViewable(r,e))),e({viewableItems:i,changed:r})}else e(t)}}render(){var e,t=this.props,s=t.numColumns,l=t.columnWrapperStyle,n=t.removeClippedSubviews,o=t.strictMode,a=void 0!==o&&o,c=(0,i.Z)(t,g),d=a?this._memoizedRenderer:this._renderer;return u.createElement(p.Z,(0,r.Z)({},c,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=n,null!=e?e:"android"===h.Z.OS)},d(this.props.ListItemComponent,this.props.renderItem,l,s,this.props.extraData)))}}var C=o.Z.create({row:{flexDirection:"row"}});const b=y},280652:(e,t,s)=>{function r(e,t,s,r,i,l){var n=e.getItemCount(e.data);if(0===n)return{first:0,last:-1};var o=l.offset,a=l.velocity,h=l.visibleLength,c=l.zoomScale,d=void 0===c?1:c,u=Math.max(0,o),p=u+h,_=(s-1)*h,f=a>1?"after":a<-1?"before":"none",m=Math.max(0,u-.5*_),g=Math.max(0,p+.5*_);if(i(n-1,e).offset*d<m)return{first:Math.max(0,n-1-t),last:n-1};var v=function(e,t,s,r){void 0===r&&(r=1);for(var i=t.getItemCount(t.data),l=[],n=0;n<e.length;n++)for(var o=e[n],a=0,h=i-1;a<=h;){var c=a+(h-a>>>1),d=s(c,t),u=d.offset*r,p=(d.offset+d.length)*r;if(0===c&&o<u||0!==c&&o<=u)h=c-1;else{if(!(o>p)){l[n]=c;break}a=c+1}}return l}([m,u,p,g],e,i,d),y=v[0],C=v[1],b=v[2],S=v[3];y=null==y?0:y,S=null==S?n-1:S;for(var L={first:C=null==C?Math.max(0,y):C,last:b=null==b?Math.min(S,C+t-1):b},w=function(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}(r,L);!(C<=y&&b>=S);){var I=w>=t,M=C<=r.first||C>r.last,R=C>y&&(!I||!M),x=b>=r.last||b<r.first,T=b<S&&(!I||!x);if(I&&!R&&!T)break;!R||"after"===f&&T&&x||(M&&w++,C--),!T||"before"===f&&R&&M||(x&&w++,b++)}if(!(b>=C&&C>=0&&b<n&&C>=y&&b<=S&&C<=L.first&&b>=L.last))throw new Error("Bad window calculation "+JSON.stringify({first:C,last:b,itemCount:n,overscanFirst:y,overscanLast:S,visible:L}));return{first:C,last:b}}function i(e,t){return"object"==typeof e&&null!=(null==e?void 0:e.key)?e.key:"object"==typeof e&&null!=(null==e?void 0:e.id)?e.id:String(t)}s.d(t,{EF:()=>r,jn:()=>i})},607849:(e,t,s)=>{s.d(t,{Z:()=>W});var r=s(77325),i=s(807896),l=s(133028),n=s(185983),o=s(214997),a=s(325686),h=s(297689),c=s(18198);const d=class{constructor(e,t){this._delay=t,this._callback=e}dispose(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout((()=>{this._taskHandle=c.Z.runAfterInteractions((()=>{this._taskHandle=null,this._callback()}))}),this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}};const u=function(e,t,s){return t<e?e:t>s?s:t};const p=function(){};var _=s(614983),f=s.n(_);class m{constructor(e){f()(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,this._regions=0===e?[]:[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(f()(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var t=this._findRegion(e.first),s=t[0],r=t[1],i=this._findRegion(e.last),n=i[0],o=i[1];if(r!==o||s.isSpacer){var a=[],h=[],c=(0,l.Z)((0,l.Z)({},e),{},{isSpacer:!1});s.first<c.first&&(s.isSpacer?a.push({first:s.first,last:c.first-1,isSpacer:!0}):c.first=s.first),n.last>c.last&&(n.isSpacer?h.push({first:c.last+1,last:n.last,isSpacer:!0}):c.last=n.last);var d=[...a,c,...h],u=o-r+1;this._regions.splice(r,u,...d)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every(((t,s)=>t.first===e._regions[s].first&&t.last===e._regions[s].last&&t.isSpacer===e._regions[s].isSpacer))}_findRegion(e){for(var t=0,s=this._regions.length-1;t<=s;){var r=Math.floor((t+s)/2),i=this._regions[r];if(e>=i.first&&e<=i.last)return[i,r];e<i.first?s=r-1:e>i.last&&(t=r+1)}f()(!1,"A region was not found containing cellIdx "+e)}}class g{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,t){var s;f()(!this._childrenToCellKey.has(e),"Trying to add already present child list");var r=null!==(s=this._cellKeyToChildren.get(t))&&void 0!==s?s:new Set;r.add(e),this._cellKeyToChildren.set(t,r),this._childrenToCellKey.set(e,t)}remove(e){var t=this._childrenToCellKey.get(e);f()(null!=t,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var s=this._cellKeyToChildren.get(t);f()(s,"_cellKeyToChildren should contain cellKey"),s.delete(e),0===s.size&&this._cellKeyToChildren.delete(t)}forEach(e){for(var t,s=(0,r.Z)(this._cellKeyToChildren.values());!(t=s()).done;)for(var i,l=t.value,n=(0,r.Z)(l);!(i=n()).done;){e(i.value)}}forEachInCell(e,t){for(var s,i,l=null!==(s=this._cellKeyToChildren.get(e))&&void 0!==s?s:[],n=(0,r.Z)(l);!(i=n()).done;){t(i.value)}}anyInCell(e,t){for(var s,i,l=null!==(s=this._cellKeyToChildren.get(e))&&void 0!==s?s:[],n=(0,r.Z)(l);!(i=n()).done;){if(t(i.value))return!0}return!1}size(){return this._childrenToCellKey.size}}class v{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var y=[],C=10,b=null;const S=class{static addListener(e){return y.push(e),{remove:()=>{y=y.filter((t=>e!==t))}}}static setSampleRate(e){b=e}static setMinSampleCount(e){C=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new v,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(b||0)>Math.random(),this._resetData()}activate(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=s.g.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<C)this._resetData();else{var t=s.g.performance.now()-e,r=(0,l.Z)((0,l.Z)({},this._info),{},{total_time_spent:t});y.forEach((e=>e(r))),this._resetData()}}}computeBlankness(e,t,r){if(!this._enabled||0===e.getItemCount(e.data)||t.last<t.first||null==this._samplesStartTime)return 0;var i=r.dOffset,l=r.offset,n=r.velocity,o=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(o),this._info.pixels_scrolled+=Math.round(Math.abs(i));var a=Math.round(1e3*Math.abs(n)),h=s.g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=h-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=h-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,d=t.first,u=this._getFrameMetrics(d,e);d<=t.last&&(!u||!u.inLayout);)u=this._getFrameMetrics(d,e),d++;u&&d>0&&(c=Math.min(o,Math.max(0,u.offset-l)));for(var p=0,_=t.last,f=this._getFrameMetrics(_,e);_>=t.first&&(!f||!f.inLayout);)f=this._getFrameMetrics(_,e),_--;if(f&&_<e.getItemCount(e.data)-1){var m=f.offset+f.length;p=Math.min(o,Math.max(0,l+o-m))}var g=Math.round(c+p),v=g/o;return v>0?(this._anyBlankStartTime=h,this._info.any_blank_speed_sum+=a,this._info.any_blank_count++,this._info.pixels_blank+=g,v>.5&&(this._mostlyBlankStartTime=h,this._info.mostly_blank_count++)):(a<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),v}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new v,this._mostlyBlankStartTime=null,this._samplesStartTime=null}};var L=s(202784);class w extends L.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,t){"function"==typeof e?super.setState(((t,s)=>{var r;this._inAsyncStateUpdate=!0;try{r=e(t,s)}catch(e){throw e}finally{this._inAsyncStateUpdate=!1}return r}),t):super.setState(e,t)}_installSetStateHooks(){var e=this,t=this.props,s=this.state;Object.defineProperty(this,"props",{get:()=>(f()(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),t),set(e){t=e}}),Object.defineProperty(this,"state",{get:()=>(f()(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),s),set(e){s=e}})}}function I(e,t,s,r,i,l){if(function(e,t,s){return e>=0&&t<=s&&t>e}(s,r,i))return!0;var n=function(e,t,s){var r=Math.min(t,s)-Math.max(e,0);return Math.max(0,r)}(s,r,i);return 100*(e?n/i:n/l)>=t}const M=class{constructor(e){void 0===e&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,t,s,r,i){var l=e.getItemCount(e.data),n=this._config,o=n.itemVisiblePercentThreshold,a=n.viewAreaCoveragePercentThreshold,h=null!=a,c=h?a:o;f()(null!=c&&null!=o!=(null!=a),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var d=[];if(0===l)return d;var u=-1,p=i||{first:0,last:l-1},_=p.first,m=p.last;if(m>=l)return[];for(var g=_;g<=m;g++){var v=r(g,e);if(v){var y=v.offset-t,C=y+v.length;if(y<s&&C>0)u=g,I(h,c,y,C,s,v.length)&&d.push(g);else if(u>=0)break}}return d}onUpdate(e,t,s,r,i,l,n){var o=e.getItemCount(e.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==o&&r(0,e)){var a=[];if(o&&(a=this.computeViewableItems(e,t,s,r,n)),this._viewableIndices.length!==a.length||!this._viewableIndices.every(((e,t)=>e===a[t])))if(this._viewableIndices=a,this._config.minimumViewTime){var h=setTimeout((()=>{this._timers.delete(h),this._onUpdateSync(e,a,l,i)}),this._config.minimumViewTime);this._timers.add(h)}else this._onUpdateSync(e,a,l,i)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,t,s,i){t=t.filter((e=>this._viewableIndices.includes(e)));for(var n,o=this._viewableItems,a=new Map(t.map((t=>{var s=i(t,!0,e);return[s.key,s]}))),h=[],c=(0,r.Z)(a);!(n=c()).done;){var d=n.value,u=d[0],p=d[1];o.has(u)||h.push(p)}for(var _,f=(0,r.Z)(o);!(_=f()).done;){var m=_.value,g=m[0],v=m[1];a.has(g)||h.push((0,l.Z)((0,l.Z)({},v),{},{isViewable:!1}))}h.length>0&&(this._viewableItems=a,s({viewableItems:Array.from(a.values()),changed:h,viewabilityConfig:this._config}))}};var R=L.createContext(null);function x(e){var t=e.children,s=e.value,r=(0,L.useMemo)((()=>({cellKey:null,getScrollMetrics:s.getScrollMetrics,horizontal:s.horizontal,getOutermostParentListRef:s.getOutermostParentListRef,registerAsNestedChild:s.registerAsNestedChild,unregisterAsNestedChild:s.unregisterAsNestedChild})),[s.getScrollMetrics,s.horizontal,s.getOutermostParentListRef,s.registerAsNestedChild,s.unregisterAsNestedChild]);return L.createElement(R.Provider,{value:r},t)}function T(e){var t=e.cellKey,s=e.children,r=(0,L.useContext)(R),i=(0,L.useMemo)((()=>null==r?null:(0,l.Z)((0,l.Z)({},r),{},{cellKey:t})),[r,t]);return L.createElement(R.Provider,{value:i},s)}class E extends L.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,t=e.cellKey,s=e.prevCellKey;this.props.onUpdateSeparators([t,s],{highlighted:!0})},unhighlight:()=>{var e=this.props,t=e.cellKey,s=e.prevCellKey;this.props.onUpdateSeparators([t,s],{highlighted:!1})},updateProps:(e,t)=>{var s=this.props,r=s.cellKey,i=s.prevCellKey;this.props.onUpdateSeparators(["leading"===e?i:r],t)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,t){return{separatorProps:(0,l.Z)((0,l.Z)({},t.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState((t=>({separatorProps:(0,l.Z)((0,l.Z)({},t.separatorProps),e)})))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,t,s,r){return t?L.createElement(t,{item:s,index:r,separators:this._separators}):e?e({item:s,index:r,separators:this._separators}):void f()(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,t=e.CellRendererComponent,s=e.ItemSeparatorComponent,r=e.ListItemComponent,l=e.cellKey,n=e.horizontal,o=e.item,h=e.index,c=e.inversionStyle,d=e.onCellFocusCapture,u=e.onCellLayout,p=e.renderItem,_=this._renderElement(p,r,o,h),f=L.isValidElement(s)?s:s&&L.createElement(s,this.state.separatorProps),m=c?n?[k.rowReverse,c]:[k.columnReverse,c]:n?[k.row,c]:c,g=t?L.createElement(t,(0,i.Z)({cellKey:l,index:h,item:o,style:m,onFocusCapture:d},u&&{onLayout:this._onLayout}),_,f):L.createElement(a.Z,(0,i.Z)({style:m,onFocusCapture:d},u&&{onLayout:this._onLayout}),_,f);return L.createElement(T,{cellKey:this.props.cellKey},g)}}var k=h.Z.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}}),F=s(280652),A=s(640750),V=s.n(A),P=!1;function O(e){return null!=e&&e}function z(e){return null!=e?e:10}function K(e){return null!=e?e:2}function Z(e,t){return e*t/2}function N(e){return null!=e?e:21}class B extends w{scrollToEnd(e){var t=!e||e.animated,s=this.props.getItemCount(this.props.data)-1;if(!(s<0)){var r=this.__getFrameMetricsApprox(s,this.props),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&null!=this._scrollRef.scrollTo&&this._scrollRef.scrollTo(O(this.props.horizontal)?{x:i,animated:t}:{y:i,animated:t})}}scrollToIndex(e){var t=this.props,s=t.data,r=t.horizontal,i=t.getItemCount,l=t.getItemLayout,n=t.onScrollToIndexFailed,o=e.animated,a=e.index,h=e.viewOffset,c=e.viewPosition;if(f()(a>=0,"scrollToIndex out of range: requested index "+a+" but minimum is 0"),f()(i(s)>=1,"scrollToIndex out of range: item length "+i(s)+" but minimum is 1"),f()(a<i(s),"scrollToIndex out of range: requested index "+a+" is out of 0 to "+(i(s)-1)),!l&&a>this._highestMeasuredFrameIndex)return f()(!!n,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void n({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:a});var d=this.__getFrameMetricsApprox(Math.floor(a),this.props),u=Math.max(0,this._getOffsetApprox(a,this.props)-(c||0)*(this._scrollMetrics.visibleLength-d.length))-(h||0);null!=this._scrollRef&&null!=this._scrollRef.scrollTo&&this._scrollRef.scrollTo(r?{x:u,animated:o}:{y:u,animated:o})}scrollToItem(e){for(var t=e.item,s=this.props,r=s.data,i=s.getItem,n=(0,s.getItemCount)(r),o=0;o<n;o++)if(i(r,o)===t){this.scrollToIndex((0,l.Z)((0,l.Z)({},e),{},{index:o}));break}}scrollToOffset(e){var t=e.animated,s=e.offset;null!=this._scrollRef&&null!=this._scrollRef.scrollTo&&this._scrollRef.scrollTo(O(this.props.horizontal)?{x:s,animated:t}:{y:s,animated:t})}recordInteraction(){this._nestedChildLists.forEach((e=>{e.recordInteraction()})),this._viewabilityTuples.forEach((e=>{e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return(null==(e=this.context)?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var t;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=e=>{this._nestedChildLists.add(e.ref,e.cellKey),this._hasInteracted&&e.ref.recordInteraction()},this._unregisterAsNestedChild=e=>{this._nestedChildLists.remove(e.ref)},this._onUpdateSeparators=(e,t)=>{e.forEach((e=>{var s=null!=e&&this._cellRefs[e];s&&s.updateSeparatorProps(t)}))},this._getSpacerKey=e=>e?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new g,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=e=>{this._scrollRef=e},this._defaultRenderScrollComponent=e=>{var t,s=e.onRefresh;return this._isNestedWithSameOrientation()?L.createElement(a.Z,e):s?(f()("boolean"==typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:"undefined")+"`"),L.createElement(o.Z,(0,i.Z)({},e,{refreshControl:null==e.refreshControl?L.createElement(n.Z,{refreshing:e.refreshing,onRefresh:s,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):L.createElement(o.Z,e)},this._onCellLayout=(e,t,s)=>{var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:s,inLayout:!0},l=this._frames[t];l&&i.offset===l.offset&&i.length===l.length&&s===l.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(l?l.length:0),this._totalCellsMeasured+=l?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,s),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(t),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=e=>{delete this._cellRefs[e];var t=this._frames[e];t&&(this._frames[e]=(0,l.Z)((0,l.Z)({},t),{},{inLayout:!1}))},this._onLayout=e=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(e.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(e),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=e=>{this.props.onLayout&&this.props.onLayout(e)},this._onLayoutFooter=e=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(e.nativeEvent.layout)},this._onLayoutHeader=e=>{this._headerLength=this._selectLength(e.nativeEvent.layout)},this._onContentSizeChange=(e,t)=>{e>0&&t>0&&null!=this.props.initialScrollIndex&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(null==this.props.contentOffset&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:V()(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(e,t),this._scrollMetrics.contentLength=this._selectLength({height:t,width:e}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=e=>{var t=e.offset-this._offsetFromParentVirtualizedList,s=e.visibleLength,r=t-this._scrollMetrics.offset;return{visibleLength:s,contentLength:this._scrollMetrics.contentLength,offset:t,dOffset:r}},this._onScroll=e=>{this._nestedChildLists.forEach((t=>{t._onScroll(e)})),this.props.onScroll&&this.props.onScroll(e);var t=e.timeStamp,s=this._selectLength(e.nativeEvent.layoutMeasurement),r=this._selectLength(e.nativeEvent.contentSize),i=this._selectOffset(e.nativeEvent.contentOffset),l=i-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(0===this._scrollMetrics.contentLength)return;var n=this._convertParentScrollMetrics({visibleLength:s,offset:i});s=n.visibleLength,r=n.contentLength,i=n.offset,l=n.dOffset}var o=this._scrollMetrics.timestamp?Math.max(1,t-this._scrollMetrics.timestamp):1,a=l/o;o>500&&this._scrollMetrics.dt>500&&r>5*s&&!this._hasWarned.perf&&(p("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:o,prevDt:this._scrollMetrics.dt,contentLength:r}),this._hasWarned.perf=!0);var h=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;this._scrollMetrics={contentLength:r,dt:o,dOffset:l,offset:i,timestamp:t,velocity:a,visibleLength:s,zoomScale:h},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),0!==a&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=e=>{this._nestedChildLists.forEach((t=>{t._onScrollBeginDrag(e)})),this._viewabilityTuples.forEach((e=>{e.viewabilityHelper.recordInteraction()})),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this._onScrollEndDrag=e=>{this._nestedChildLists.forEach((t=>{t._onScrollEndDrag(e)}));var t=e.nativeEvent.velocity;t&&(this._scrollMetrics.velocity=this._selectOffset(t)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this._onMomentumScrollBegin=e=>{this._nestedChildLists.forEach((t=>{t._onMomentumScrollBegin(e)})),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this._onMomentumScrollEnd=e=>{this._nestedChildLists.forEach((t=>{t._onMomentumScrollEnd(e)})),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState(((e,t)=>{var s=this._adjustCellsAroundViewport(t,e.cellsAroundViewport),r=B._createRenderMask(t,s,this._getNonViewportRenderRegions(t));return s.first===e.cellsAroundViewport.first&&s.last===e.cellsAroundViewport.last&&r.equals(e.renderMask)?null:{cellsAroundViewport:s,renderMask:r}}))},this._createViewToken=(e,t,s)=>{var r=s.data,i=(0,s.getItem)(r,e);return{index:e,item:i,key:this._keyExtractor(i,e,s),isViewable:t}},this._getOffsetApprox=(e,t)=>{if(Number.isInteger(e))return this.__getFrameMetricsApprox(e,t).offset;var s=this.__getFrameMetricsApprox(Math.floor(e),t),r=e-Math.floor(e);return s.offset+r*s.length},this.__getFrameMetricsApprox=(e,t)=>{var s=this._getFrameMetrics(e,t);if(s&&s.index===e)return s;var r=t.data,i=t.getItemCount,l=t.getItemLayout;return f()(e>=0&&e<i(r),"Tried to get frame for out of range index "+e),f()(!l,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*e}},this._getFrameMetrics=(e,t)=>{var s=t.data,r=t.getItem,i=t.getItemCount,l=t.getItemLayout;f()(e>=0&&e<i(s),"Tried to get frame for out of range index "+e);var n=r(s,e),o=this._frames[this._keyExtractor(n,e,t)];return o&&o.index===e||!l?o:l(s,e)},this._getNonViewportRenderRegions=e=>{if(!this._lastFocusedCellKey||!this._cellRefs[this._lastFocusedCellKey])return[];var t=this._cellRefs[this._lastFocusedCellKey].props.index,s=e.getItemCount(e.data);if(t>=s||this._keyExtractor(e.getItem(e.data,t),t,e)!==this._lastFocusedCellKey)return[];for(var r=t,i=0,l=r-1;l>=0&&i<this._scrollMetrics.visibleLength;l--)r--,i+=this.__getFrameMetricsApprox(l,e).length;for(var n=t,o=0,a=n+1;a<s&&o<this._scrollMetrics.visibleLength;a++)n++,o+=this.__getFrameMetricsApprox(a,e).length;return[{first:r,last:n}]},this._checkProps(e),this._fillRateHelper=new S(this._getFrameMetrics),this._updateCellsToRenderBatcher=new d(this._updateCellsToRender,null!==(t=this.props.updateCellsBatchingPeriod)&&void 0!==t?t:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map((e=>({viewabilityHelper:new M(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged})));else{var s=this.props,r=s.onViewableItemsChanged,h=s.viewabilityConfig;r&&this._viewabilityTuples.push({viewabilityHelper:new M(h),onViewableItemsChanged:r})}var c=B._initialRenderRegion(e);this.state={cellsAroundViewport:c,renderMask:B._createRenderMask(e,c)},this.invertedWheelEventHandler=e=>{var t=this.props.horizontal?e.target.scrollLeft:e.target.scrollTop,s=this.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,r=this.props.horizontal?e.target.clientWidth:e.target.clientHeight,i=s>r,l=this.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,n=l;i&&(n=l<0?Math.min(l+t,0):Math.max(l-(s-r-t),0));var o=l-n;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var a=this._scrollRef.getScrollableNode();if(this.props.horizontal){e.target.scrollLeft+=o;var h=a.scrollLeft-n;a.scrollLeft=this.props.getItemLayout?h:Math.min(h,this._totalCellLength)}else{e.target.scrollTop+=o;var c=a.scrollTop-n;a.scrollTop=this.props.getItemLayout?c:Math.min(c,this._totalCellLength)}e.preventDefault()}}}_checkProps(e){var t=e.onScroll,s=e.windowSize,r=e.getItemCount,i=e.data,l=e.initialScrollIndex;f()(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),f()(N(s)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),f()(r,'VirtualizedList: The "getItemCount" prop must be provided');var n=r(i);null==l||this._hasTriggeredInitialScrollToIndex||!(l<0||n>0&&l>=n)||this._hasWarned.initialScrollIndex||(this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,t,s){var r=e.getItemCount(e.data);f()(t.first>=0&&t.last>=t.first-1&&t.last<r,'Invalid cells around viewport "['+t.first+", "+t.last+']" was passed to VirtualizedList._createRenderMask');var i=new m(r);if(r>0){for(var l=0,n=[t,...null!=s?s:[]];l<n.length;l++){var o=n[l];i.addCells(o)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var a=B._initialRenderRegion(e);i.addCells(a)}var h=new Set(e.stickyHeaderIndices);B._ensureClosestStickyHeader(e,h,i,t.first)}return i}static _initialRenderRegion(e){var t,s,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:i,last:Math.min(r,i+(null!=(s=e.initialNumToRender)?s:10))-1}}static _ensureClosestStickyHeader(e,t,s,r){for(var i=e.ListHeaderComponent?1:0,l=r-1;l>=0;l--)if(t.has(l+i)){s.addCells({first:l,last:l});break}}_adjustCellsAroundViewport(e,t){var s,r=e.data,i=e.getItemCount,l=K(e.onEndReachedThreshold),n=this._scrollMetrics,o=n.contentLength,a=n.offset,h=n.visibleLength,c=o-h-a;if(h<=0||o<=0)return t.last>=i(r)?B._constrainToItemCount(t,e):t;if(e.disableVirtualization){var d=c<l*h?z(e.maxToRenderPerBatch):0;s={first:0,last:Math.min(t.last+d,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(c)>=Number.EPSILON)return t.last>=i(r)?B._constrainToItemCount(t,e):t;s=(0,F.EF)(e,z(e.maxToRenderPerBatch),N(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),f()(s.last<i(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var u=this._findFirstChildWithMore(s.first,s.last);s.last=null!=u?u:s.last}return s}_findFirstChildWithMore(e,t){for(var s=e;s<=t;s++){var r=this._indicesToKeys.get(s);if(null!=r&&this._nestedChildLists.anyInCell(r,(e=>e.hasMore())))return s}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((e=>{e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler):setTimeout((()=>this.setupWebWheelHandler()),50)}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,t){if(e.getItemCount(e.data)===t.renderMask.numCells())return t;var s=B._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:s,renderMask:B._createRenderMask(e,s)}}_pushCells(e,t,s,r,l,n){var o,a=this,h=this.props,c=h.CellRendererComponent,d=h.ItemSeparatorComponent,u=h.ListHeaderComponent,p=h.ListItemComponent,_=h.data,f=h.debug,m=h.getItem,g=h.getItemCount,v=h.getItemLayout,y=h.horizontal,C=h.renderItem,b=u?1:0,S=g(_)-1;l=Math.min(S,l);for(var w=function(){var r=m(_,I),l=a._keyExtractor(r,I,a.props);a._indicesToKeys.set(I,l),s.has(I+b)&&t.push(e.length);var h=null==v||f||a._fillRateHelper.enabled();e.push(L.createElement(E,(0,i.Z)({CellRendererComponent:c,ItemSeparatorComponent:I<S?d:void 0,ListItemComponent:p,cellKey:l,horizontal:y,index:I,inversionStyle:n,item:r,key:l,prevCellKey:o,onUpdateSeparators:a._onUpdateSeparators,onCellFocusCapture:e=>a._onCellFocusCapture(l),onUnmount:a._onCellUnmount,ref:e=>{a._cellRefs[l]=e},renderItem:C},h&&{onCellLayout:a._onCellLayout}))),o=l},I=r;I<=l;I++)w()}static _constrainToItemCount(e,t){var s=t.getItemCount(t.data),r=Math.min(s-1,e.last),i=z(t.maxToRenderPerBatch);return{first:u(0,s-1-i,e.first),last:r}}_isNestedWithSameOrientation(){var e=this.context;return!(!e||!!e.horizontal!==O(this.props.horizontal))}_keyExtractor(e,t,s){if(null!=s.keyExtractor)return s.keyExtractor(e,t);var r=(0,F.jn)(e,t);return r===String(t)&&(P=!0,e.type&&e.type.displayName&&e.type.displayName),r}render(){this._checkProps(this.props);var e=this.props,t=e.ListEmptyComponent,s=e.ListFooterComponent,i=e.ListHeaderComponent,n=this.props,o=n.data,h=n.horizontal,c=this.props.inverted?O(this.props.horizontal)?H.horizontallyInverted:H.verticallyInverted:null,d=[],p=new Set(this.props.stickyHeaderIndices),_=[];if(i){p.has(0)&&_.push(0);var f=L.isValidElement(i)?i:L.createElement(i,null);d.push(L.createElement(T,{cellKey:this._getCellKey()+"-header",key:"$header"},L.createElement(a.Z,{onLayout:this._onLayoutHeader,style:[c,this.props.ListHeaderComponentStyle]},f)))}var m=this.props.getItemCount(o);if(0===m&&t){var g=L.isValidElement(t)?t:L.createElement(t,null);d.push(L.createElement(T,{cellKey:this._getCellKey()+"-empty",key:"$empty"},L.cloneElement(g,{onLayout:e=>{this._onLayoutEmpty(e),g.props.onLayout&&g.props.onLayout(e)},style:[c,g.props.style]})))}if(m>0){P=!1;for(var v,y=this._getSpacerKey(!h),C=this.state.renderMask.enumerateRegions(),b=function(e,t){for(var s=e.length-1;s>=0;s--)if(t(e[s]))return e[s];return null}(C,(e=>e.isSpacer)),S=(0,r.Z)(C);!(v=S()).done;){var w=v.value;if(w.isSpacer){if(this.props.disableVirtualization)continue;var I=w===b&&!this.props.getItemLayout?u(w.first-1,w.last,this._highestMeasuredFrameIndex):w.last,M=this.__getFrameMetricsApprox(w.first,this.props),R=this.__getFrameMetricsApprox(I,this.props),E=R.offset+R.length-M.offset;d.push(L.createElement(a.Z,{key:"$spacer-"+w.first,style:{[y]:E}}))}else this._pushCells(d,_,p,w.first,w.last,c)}!this._hasWarned.keys&&P&&(this._hasWarned.keys=!0)}if(s){var k=L.isValidElement(s)?s:L.createElement(s,null);d.push(L.createElement(T,{cellKey:this._getFooterCellKey(),key:"$footer"},L.createElement(a.Z,{onLayout:this._onLayoutFooter,style:[c,this.props.ListFooterComponentStyle]},k)))}var F,A=(0,l.Z)((0,l.Z)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(F=this.props.scrollEventThrottle,null!=F?F:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:_,style:c?[c,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<m-1;var V=L.createElement(x,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:O(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},L.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(A),{ref:this._captureScrollRef},d));return this.props.debug?L.createElement(a.Z,{style:H.debug},V,this._renderDebugOverlay()):V}componentDidUpdate(e){var t=this.props,s=t.data,r=t.extraData;s===e.data&&r===e.extraData||this._viewabilityTuples.forEach((e=>{e.viewabilityHelper.resetViewableIndices()}));var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,(e=>{e.measureLayoutRelativeToContainingList()}))}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),((e,t,s,r)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:t}),this._scrollMetrics.contentLength=this._selectLength({width:s,height:r});var i=this._convertParentScrollMetrics(this.context.getScrollMetrics());(this._scrollMetrics.visibleLength!==i.visibleLength||this._scrollMetrics.offset!==i.offset)&&(this._scrollMetrics.visibleLength=i.visibleLength,this._scrollMetrics.offset=i.offset,this._nestedChildLists.forEach((e=>{e.measureLayoutRelativeToContainingList()})))}),(e=>{}))}catch(e){}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],s=this.props.getItemCount(this.props.data),r=0;r<s;r++){var i=this.__getFrameMetricsApprox(r,this.props);i.inLayout&&t.push(i)}var l=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,n=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),o=n.offset+n.length-l,h=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength;return L.createElement(a.Z,{style:[H.debugOverlayBase,H.debugOverlay]},t.map(((t,s)=>L.createElement(a.Z,{key:"f"+s,style:[H.debugOverlayBase,H.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]}))),L.createElement(a.Z,{style:[H.debugOverlayBase,H.debugOverlayFrameLast,{top:l*e,height:o*e}]}),L.createElement(a.Z,{style:[H.debugOverlayBase,H.debugOverlayFrameVis,{top:h*e,height:c*e}]}))}_selectLength(e){return O(this.props.horizontal)?e.width:e.height}_selectOffset(e){return O(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,t=e.data,s=e.getItemCount,r=e.onStartReached,i=e.onStartReachedThreshold,l=e.onEndReached,n=e.onEndReachedThreshold,o=e.initialScrollIndex,a=this._scrollMetrics,h=a.contentLength,c=a.visibleLength,d=a.offset,u=d,p=h-c-d;u<.001&&(u=0),p<.001&&(p=0);var _=u<=(null!=i?i*c:2),f=p<=(null!=n?n*c:2);l&&this.state.cellsAroundViewport.last===s(t)-1&&f&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,l({distanceFromEnd:p})):null!=r&&0===this.state.cellsAroundViewport.first&&_&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?o&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,r({distanceFromStart:u})):(this._sentStartForContentLength=_?this._sentStartForContentLength:0,this._sentEndForContentLength=f?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,t=e.first,s=e.last,r=this._scrollMetrics,i=r.offset,l=r.visibleLength,n=r.velocity,o=this.props.getItemCount(this.props.data),a=!1,h=function(e){return null!=e?e:2}(this.props.onStartReachedThreshold),c=K(this.props.onEndReachedThreshold);if(t>0){var d=i-this.__getFrameMetricsApprox(t,this.props).offset;a=d<0||n<-2&&d<Z(h,l)}if(!a&&s>=0&&s<o-1){var u=this.__getFrameMetricsApprox(s,this.props).offset-(i+l);a=u<0||n>2&&u<Z(c,l)}if(a&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,t){this._viewabilityTuples.forEach((s=>{s.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,s.onViewableItemsChanged,t)}))}}B.contextType=R;var H=h.Z.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});const W=B},28604:(e,t,s)=>{s.d(t,{Z:()=>r});class r{constructor(){this._registry={}}addListener(e,t,s){var r=function(e,t){var s=e[t];null==s&&(s=new Set,e[t]=s);return s}(this._registry,e),i={context:s,listener:t,remove(){r.delete(i)}};return r.add(i),i}emit(e){var t=this._registry[e];if(null!=t){for(var s=arguments.length,r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];for(var l=0,n=[...t];l<n.length;l++){var o=n[l];o.listener.apply(o.context,r)}}}removeAllListeners(e){null==e?this._registry={}:delete this._registry[e]}listenerCount(e){var t=this._registry[e];return null==t?0:t.size}}}}]),window.__SCRIPTS_LOADED__.vendor=!0);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/vendor-6b20cc7c.ef54de0a.js.map